
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;http&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#pagination" class="toc-h1 toc-link" data-title="Pagination">Pagination</a>
          </li>
          <li>
            <a href="#wechat-client" class="toc-h1 toc-link" data-title="Wechat Client">Wechat Client</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#access_token" class="toc-h2 toc-link" data-title="access_token">access_token</a>
                  </li>
                  <li>
                    <a href="#jsapi_ticket" class="toc-h2 toc-link" data-title="jsapi_ticket">jsapi_ticket</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accesses" class="toc-h1 toc-link" data-title="Accesses">Accesses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#id" class="toc-h2 toc-link" data-title="获取权限ID">获取权限ID</a>
                  </li>
                  <li>
                    <a href="#9629737465" class="toc-h2 toc-link" data-title="创建组织管理员">创建组织管理员</a>
                  </li>
                  <li>
                    <a href="#1f3fcec323" class="toc-h2 toc-link" data-title="删除组织管理员">删除组织管理员</a>
                  </li>
                  <li>
                    <a href="#6df0c823e6" class="toc-h2 toc-link" data-title="修改组织管理员">修改组织管理员</a>
                  </li>
                  <li>
                    <a href="#7f47be2c10" class="toc-h2 toc-link" data-title="查询每个组织下的管理员">查询每个组织下的管理员</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#attachments" class="toc-h1 toc-link" data-title="Attachments">Attachments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#711363c424" class="toc-h2 toc-link" data-title="查询">查询</a>
                  </li>
                  <li>
                    <a href="#token" class="toc-h2 toc-link" data-title="附件Token">附件Token</a>
                  </li>
                  <li>
                    <a href="#7" class="toc-h2 toc-link" data-title="上传7牛">上传7牛</a>
                  </li>
                  <li>
                    <a href="#52479ed18f" class="toc-h2 toc-link" data-title="创建附件">创建附件</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#categories" class="toc-h1 toc-link" data-title="Categories">Categories</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#99f9a7e446" class="toc-h2 toc-link" data-title="空间所有分类">空间所有分类</a>
                  </li>
                  <li>
                    <a href="#a7fe4ad390" class="toc-h2 toc-link" data-title="获取分类">获取分类</a>
                  </li>
                  <li>
                    <a href="#b075a1f04c" class="toc-h2 toc-link" data-title="分类下的分类">分类下的分类</a>
                  </li>
                  <li>
                    <a href="#14e534f0d7" class="toc-h2 toc-link" data-title="分类下的文章">分类下的文章</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#column-explanation" class="toc-h1 toc-link" data-title="Column Explanation">Column Explanation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7dbb085c42" class="toc-h2 toc-link" data-title="数据库表解释">数据库表解释</a>
                  </li>
                  <li>
                    <a href="#41e10bfd0d" class="toc-h2 toc-link" data-title="字段解释">字段解释</a>
                  </li>
                  <li>
                    <a href="#2574b30335" class="toc-h2 toc-link" data-title="流程状态解释">流程状态解释</a>
                  </li>
                  <li>
                    <a href="#response-cached_values" class="toc-h2 toc-link" data-title="Response cached_values 说明">Response cached_values 说明</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#comments" class="toc-h1 toc-link" data-title="Comments">Comments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#35e7e445ab" class="toc-h2 toc-link" data-title="新增评论">新增评论</a>
                  </li>
                  <li>
                    <a href="#2770c4d591" class="toc-h2 toc-link" data-title="查询评论">查询评论</a>
                  </li>
                  <li>
                    <a href="#a602a2cfb5" class="toc-h2 toc-link" data-title="删除评论">删除评论</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#flows" class="toc-h1 toc-link" data-title="Flows">Flows</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1" class="toc-h2 toc-link" data-title="新建流程（1）">新建流程（1）</a>
                  </li>
                  <li>
                    <a href="#2" class="toc-h2 toc-link" data-title="新建流程确认（2）">新建流程确认（2）</a>
                  </li>
                  <li>
                    <a href="#155570b4f1" class="toc-h2 toc-link" data-title="创建组织流程">创建组织流程</a>
                  </li>
                  <li>
                    <a href="#abb5975e52" class="toc-h2 toc-link" data-title="获取发起的流程列表">获取发起的流程列表</a>
                  </li>
                  <li>
                    <a href="#moment" class="toc-h2 toc-link" data-title="获取某条流程的所有 Moment">获取某条流程的所有 Moment</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#forms" class="toc-h1 toc-link" data-title="Forms">Forms</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1de85d87d5" class="toc-h2 toc-link" data-title="表单信息">表单信息</a>
                  </li>
                  <li>
                    <a href="#52dced31b8" class="toc-h2 toc-link" data-title="表单数据">表单数据</a>
                  </li>
                  <li>
                    <a href="#cad1fb4d84" class="toc-h2 toc-link" data-title="单条表单数据">单条表单数据</a>
                  </li>
                  <li>
                    <a href="#9244b98e91" class="toc-h2 toc-link" data-title="创建表单填写记录">创建表单填写记录</a>
                  </li>
                  <li>
                    <a href="#cf789bca7a" class="toc-h2 toc-link" data-title="修改表单填写记录">修改表单填写记录</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#organizations" class="toc-h1 toc-link" data-title="Organizations">Organizations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cb9cf88fe7" class="toc-h2 toc-link" data-title="所有组织">所有组织</a>
                  </li>
                  <li>
                    <a href="#c8c51b76c7" class="toc-h2 toc-link" data-title="顶级组织">顶级组织</a>
                  </li>
                  <li>
                    <a href="#cda11de7f2" class="toc-h2 toc-link" data-title="子代组织">子代组织</a>
                  </li>
                  <li>
                    <a href="#02e4569f06" class="toc-h2 toc-link" data-title="组织成员">组织成员</a>
                  </li>
                  <li>
                    <a href="#92cfa6d383" class="toc-h2 toc-link" data-title="创建组织">创建组织</a>
                  </li>
                  <li>
                    <a href="#66dd10a168" class="toc-h2 toc-link" data-title="创建组织成员">创建组织成员</a>
                  </li>
                  <li>
                    <a href="#9a7ba01224" class="toc-h2 toc-link" data-title="获取组织成员">获取组织成员</a>
                  </li>
                  <li>
                    <a href="#cc03e92ff4" class="toc-h2 toc-link" data-title="多人加入组织">多人加入组织</a>
                  </li>
                  <li>
                    <a href="#5704a077be" class="toc-h2 toc-link" data-title="移除多个成员">移除多个成员</a>
                  </li>
                  <li>
                    <a href="#be89d6b874" class="toc-h2 toc-link" data-title="更新组织成员信息">更新组织成员信息</a>
                  </li>
                  <li>
                    <a href="#2a26dc7cab" class="toc-h2 toc-link" data-title="搜索组织">搜索组织</a>
                  </li>
                  <li>
                    <a href="#post" class="toc-h2 toc-link" data-title="POST请求（作用待定）">POST请求（作用待定）</a>
                  </li>
                  <li>
                    <a href="#8f3d71018a" class="toc-h2 toc-link" data-title="移除未绑定成员">移除未绑定成员</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#pushes" class="toc-h1 toc-link" data-title="Pushes">Pushes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#14a8535075" class="toc-h2 toc-link" data-title="微信推送">微信推送</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tags" class="toc-h1 toc-link" data-title="Tags">Tags</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#61fbf3a18b" class="toc-h2 toc-link" data-title="查询空间下标签类型">查询空间下标签类型</a>
                  </li>
                  <li>
                    <a href="#faa1b8a715" class="toc-h2 toc-link" data-title="更新成员标签">更新成员标签</a>
                  </li>
                  <li>
                    <a href="#4ba44bc588" class="toc-h2 toc-link" data-title="查询成员标签下的成员">查询成员标签下的成员</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c874682816" class="toc-h2 toc-link" data-title="查询当前空间下所有用户">查询当前空间下所有用户</a>
                  </li>
                  <li>
                    <a href="#6d47866b22" class="toc-h2 toc-link" data-title="所在组织">所在组织</a>
                  </li>
                  <li>
                    <a href="#b6bb36669d" class="toc-h2 toc-link" data-title="查询用户信息">查询用户信息</a>
                  </li>
                  <li>
                    <a href="#b079ad25f0" class="toc-h2 toc-link" data-title="新建用户信息">新建用户信息</a>
                  </li>
                  <li>
                    <a href="#2e536466d5" class="toc-h2 toc-link" data-title="更新用户信息">更新用户信息</a>
                  </li>
                  <li>
                    <a href="#ac68029009" class="toc-h2 toc-link" data-title="查询用户信息（手机号）">查询用户信息（手机号）</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Skylark API!</p>

<p>域名：</p>

<ul>
<li>测试：https://beta.skylarkly.com</li>
<li>正式：https://skylarkly.com</li>
</ul>

<p><strong>注</strong>：</p>

<ul>
<li>所有的开发对接工作在Beta https://beta.skylarkly.com 上完成，部署时会给线上环境的配置</li>
</ul>
<h1 id='authentication'>Authentication</h1>
<p>1、创建一个ApiApplication，获得<code>appid</code>和<code>appsecret</code>（由我们提供）</p>

<p>2、获得Namespace的id（由我们提供）</p>

<p>3、构建Authorization header</p>

<p><code>header</code>值的形式：<code>appid</code>:<code>encoded_data</code></p>

<p><code>appid</code>：为第一步获取到的<code>appid</code></p>

<p><code>encoded_data</code>：以<code>appsecret</code>为key，用JWT的HS256进行加密，加密payload为<code>{&quot;namespace_id&quot;:id}</code>（id为Integer）</p>

<p>示例：</p>

<p><code>appid: 56dc47367f8c775cf2318aa29345af558ad8aa2835bc3cc1d4416abfa94bd721</code></p>

<p><code>appsecret: 7bb73122837c4befb9c6593287f73a5e915415fe29f5aeb182717b66e873e96b</code></p>

<p><code>namespace_id: 1</code></p>

<p>JWT的</p>

<p>HEADER为：<code>{&quot;typ&quot;:&quot;JWT&quot;,&quot;alg&quot;:&quot;HS256&quot;}</code>
PAYLOAD为：<code>{&quot;namespace_id&quot;:1}</code></p>

<p>计算出<code>encoded_data</code>为：</p>

<p><code>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYW1lc3BhY2VfaWQiOjF9.z-RcFpDiYBXAO8i88M_x1JpJRr6CDMo8sb1rU6dw-0E</code></p>

<p>最终构建出<code>Authorization</code> header的值为： </p>

<p><code>56dc47367f8c775cf2318aa29345af558ad8aa2835bc3cc1d4416abfa94bd721:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYW1lc3BhY2VfaWQiOjF9.z-RcFpDiYBXAO8i88M_x1JpJRr6CDMo8sb1rU6dw-0E</code></p>

<p>可以用<a href="https://jwt.io">jwt.io</a>进行测试</p>

<p>实际使用中，处于安全的考虑，最好在payload中加入过期时间，如：</p>

<p><code>{&quot;namespace_id&quot;:1,&quot;exp&quot;:1535553256}</code></p>
<h1 id='pagination'>Pagination</h1>
<ul>
<li>参数

<ul>
<li><code>per_page</code> 每页多少个，默认<code>24</code>，范围<code>1~100</code></li>
<li><code>page</code> 页数</li>
</ul></li>
<li>接口返回 Header (<strong>如果返回有以下Header，表示数据有分页</strong>)

<ul>
<li>X-SLP-Current-Page: 当前页数</li>
<li>X-SLP-Total-Pages: 总页数</li>
<li>X-SLP-Total-Count: 总个数</li>
</ul></li>
<li>例：<code>GET /api/v4/yaw/flows/:id/journeys?per_page=30&amp;page=3</code></li>
</ul>
<h1 id='wechat-client'>Wechat Client</h1>
<p>注：</p>

<ul>
<li>access_token和jsapi_ticket都是在过期时间之前，可以一直使用，请求得到后而缓存之</li>
<li>不要用access_token去微信端请求jsapi_ticket，jsapi_ticket通过我们提供的接口获取</li>
</ul>
<h2 id='access_token'>access_token</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/wechat_clients/access_token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "access_token": "15_2FkbrFbJuemSy3ANqLmHNu65bpflFlORFTO8tqnvw5a1C0EhF-nfGAvmRhjHqX9-bc8yWqk_2ezUfINwwGLvisa5kgrLQzOKP1rN6SxTixiDklu1fA3UK0GsO_a5nmrkfo_B44xcvtpEj78sVMKcAIAEVT",</span>
<span class="s">  "expired_at": "1541041188" // 过期的 unix 时间戳</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/wechat_clients/access_token</code></p>

<p><strong>Parameters</strong></p>

<ul>
<li>  None</li>
</ul>

<p><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421140183">微信文档</a></p>
<h2 id='jsapi_ticket'>jsapi_ticket</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/wechat_clients/jsapi_ticket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "ticket": "sM4AOVdWfPE4DxkXGEs8VAT3lleStXwJQ-0K5TVdAa6VYKz9sECvxATXHT4fR5Vcqy8B4XnR3_fiV-xuSIWfjQ",</span>
<span class="s">  "expired_at": "1535715059" // 过期的 unix 时间戳</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/wechat_clients/jsapi_ticket</code></p>

<p><strong>Parameters</strong></p>

<ul>
<li>  None</li>
</ul>
<h1 id='accesses'>Accesses</h1><h2 id='id'>获取权限ID</h2><pre class="highlight http tab-http"><code><span class="err">GET /api/v4/accesses
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 1,</span>
<span class="s">        "name": "超级管理员",</span>
<span class="s">        "actions": [</span>
<span class="s">            1,</span>
<span class="s">            3,</span>
<span class="s">            4</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 16,</span>
<span class="s">        "name": "发送消息、表单和模板通知",</span>
<span class="s">        "actions": [</span>
<span class="s">            4</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 17,</span>
<span class="s">        "name": "管理组织架构",</span>
<span class="s">        "actions": [</span>
<span class="s">            1</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 18,</span>
<span class="s">        "name": "管理组织成员",</span>
<span class="s">        "actions": [</span>
<span class="s">            3</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 26,</span>
<span class="s">        "name": "组织管理员",</span>
<span class="s">        "actions": [</span>
<span class="s">            1,</span>
<span class="s">            3</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    }</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/accesses</code></p>
<h2 id='9629737465'>创建组织管理员</h2><pre class="highlight http tab-http"><code><span class="err">GET /api/v4/organizations/:organization_id/administrators?user_id&amp;access_id
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 320,</span>
<span class="s">    "user": {</span>
<span class="s">        "id": 690,</span>
<span class="s">        "name": "zxl",</span>
<span class="s">        "nickname": "贤丨🤺",</span>
<span class="s">        "phone": "12121212121",</span>
<span class="s">        "identifier": "12121212121",</span>
<span class="s">        "qq": null,</span>
<span class="s">        "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ",</span>
<span class="s">        "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",</span>
<span class="s">        "imported_alias": "zxl",</span>
<span class="s">        "from_wechat": false,</span>
<span class="s">        "tags": [],</span>
<span class="s">        "profile_submission": {</span>
<span class="s">            "entries": []</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "access": {</span>
<span class="s">        "id": 1,</span>
<span class="s">        "name": "超级管理员",</span>
<span class="s">        "actions": [</span>
<span class="s">            1,</span>
<span class="s">            3,</span>
<span class="s">            4</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    },</span>
<span class="s">    "organization": {</span>
<span class="s">        "id": 590,</span>
<span class="s">        "name": "111111",</span>
<span class="s">        "description": "",</span>
<span class="s">        "created_at": "2020-05-13T11:37:02.061+08:00"</span>
<span class="s">    }</span>
<span class="s">}</span>
</code></pre>
<p><code>POST /api/v4/organizations/:organization_id/administrators?user_id&amp;access_id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>用户ID</td>
<td></td>
</tr>
<tr>
<td>access_id</td>
<td>integer</td>
<td>权限ID</td>
<td></td>
</tr>
<tr>
<td>:organization_id</td>
<td>integer</td>
<td>组织ID</td>
<td></td>
</tr>
</tbody></table>
<h2 id='1f3fcec323'>删除组织管理员</h2><pre class="highlight http tab-http"><code><span class="err">DELETE /api/v4/organizations/:organization_id/administrators/:id
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>

</code></pre>
<p><code>DELETE /api/v4/organizations/:organization_id/administrators/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>integer</td>
<td>管理员ID</td>
<td></td>
</tr>
<tr>
<td>:organization_id</td>
<td>integer</td>
<td>组织ID</td>
<td></td>
</tr>
</tbody></table>
<h2 id='6df0c823e6'>修改组织管理员</h2><pre class="highlight http tab-http"><code><span class="err">PUT /api/v4/organizations/:organization_id/administrators:id
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 321,</span>
<span class="s">    "user": {</span>
<span class="s">        "id": 690,</span>
<span class="s">        "name": "zxl",</span>
<span class="s">        "nickname": "贤丨🤺",</span>
<span class="s">        "phone": "12123456654",</span>
<span class="s">        "identifier": "12123456654",</span>
<span class="s">        "qq": null,</span>
<span class="s">        "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ",</span>
<span class="s">        "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",</span>
<span class="s">        "imported_alias": "zxl",</span>
<span class="s">        "from_wechat": false,</span>
<span class="s">        "tags": [],</span>
<span class="s">        "profile_submission": {</span>
<span class="s">            "entries": []</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "access": {</span>
<span class="s">        "id": 18,</span>
<span class="s">        "name": "管理组织成员",</span>
<span class="s">        "actions": [</span>
<span class="s">            3</span>
<span class="s">        ],</span>
<span class="s">        "founded": false</span>
<span class="s">    },</span>
<span class="s">    "organization": {</span>
<span class="s">        "id": 590,</span>
<span class="s">        "name": "111111",</span>
<span class="s">        "description": "",</span>
<span class="s">        "created_at": "2020-05-13T11:37:02.061+08:00"</span>
<span class="s">    }</span>
<span class="s">}</span>

</code></pre>
<p><code>PUT /api/v4/organizations/:organization_id/administrators:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>用户ID</td>
<td></td>
</tr>
<tr>
<td>access_id</td>
<td>integer</td>
<td>权限ID</td>
<td></td>
</tr>
<tr>
<td>:id</td>
<td>integer</td>
<td>管理员ID</td>
<td></td>
</tr>
<tr>
<td>:organization_id</td>
<td>integer</td>
<td>组织ID</td>
<td></td>
</tr>
</tbody></table>
<h2 id='7f47be2c10'>查询每个组织下的管理员</h2><pre class="highlight http tab-http"><code><span class="err">GET /api/v4/organizations/:organization_id/administrators
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 311,</span>
<span class="s">        "user": {</span>
<span class="s">            "id": 1536,</span>
<span class="s">            "name": "希星李",</span>
<span class="s">            "nickname": "希希里图",</span>
<span class="s">            "phone": "12345677654",</span>
<span class="s">            "identifier": "12345677654",</span>
<span class="s">            "qq": "",</span>
<span class="s">            "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">            "openid": null,</span>
<span class="s">            "imported_alias": "lxx",</span>
<span class="s">            "from_wechat": false,</span>
<span class="s">            "tags": [],</span>
<span class="s">            "profile_submission": {</span>
<span class="s">                "entries": []</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "access": {</span>
<span class="s">            "id": 2,</span>
<span class="s">            "name": "创建者",</span>
<span class="s">            "actions": [</span>
<span class="s">                1,</span>
<span class="s">                3,</span>
<span class="s">                4</span>
<span class="s">            ],</span>
<span class="s">            "founded": true</span>
<span class="s">        },</span>
<span class="s">        "organization": {</span>
<span class="s">            "id": 590,</span>
<span class="s">            "name": "111111",</span>
<span class="s">            "description": "",</span>
<span class="s">            "created_at": "2020-05-13T11:37:02.061+08:00"</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 319,</span>
<span class="s">        "user": {</span>
<span class="s">            "id": 194,</span>
<span class="s">            "name": "zx",</span>
<span class="s">            "nickname": "",</span>
<span class="s">            "phone": "12345677654",</span>
<span class="s">            "identifier": "字符串",</span>
<span class="s">            "qq": "",</span>
<span class="s">            "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">            "openid": null,</span>
<span class="s">            "imported_alias": "张瑞",</span>
<span class="s">            "from_wechat": false,</span>
<span class="s">            "tags": [],</span>
<span class="s">            "profile_submission": {</span>
<span class="s">                "entries": []</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "access": {</span>
<span class="s">            "id": 18,</span>
<span class="s">            "name": "管理组织成员",</span>
<span class="s">            "actions": [</span>
<span class="s">                3</span>
<span class="s">            ],</span>
<span class="s">            "founded": false</span>
<span class="s">        },</span>
<span class="s">        "organization": {</span>
<span class="s">            "id": 590,</span>
<span class="s">            "name": "111111",</span>
<span class="s">            "description": "",</span>
<span class="s">            "created_at": "2020-05-13T11:37:02.061+08:00"</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 321,</span>
<span class="s">        "user": {</span>
<span class="s">            "id": 690,</span>
<span class="s">            "name": "zxl",</span>
<span class="s">            "nickname": "贤独丨🤺",</span>
<span class="s">            "phone": "12345677654",</span>
<span class="s">            "identifier": "12345677654",</span>
<span class="s">            "qq": null,</span>
<span class="s">            "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ",</span>
<span class="s">            "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",</span>
<span class="s">            "imported_alias": "zxl",</span>
<span class="s">            "from_wechat": false,</span>
<span class="s">            "tags": [],</span>
<span class="s">            "profile_submission": {</span>
<span class="s">                "entries": []</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "access": {</span>
<span class="s">            "id": 1,</span>
<span class="s">            "name": "超级管理员",</span>
<span class="s">            "actions": [</span>
<span class="s">                1,</span>
<span class="s">                3,</span>
<span class="s">                4</span>
<span class="s">            ],</span>
<span class="s">            "founded": false</span>
<span class="s">        },</span>
<span class="s">        "organization": {</span>
<span class="s">            "id": 590,</span>
<span class="s">            "name": "111111",</span>
<span class="s">            "description": "",</span>
<span class="s">            "created_at": "2020-05-13T11:37:02.061+08:00"</span>
<span class="s">        }</span>
<span class="s">    }</span>
<span class="s">]</span>

</code></pre>
<p><code>Get /api/v4/organizations/:organization_id/administrators</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>:organization_id</td>
<td>integer</td>
<td>组织ID</td>
<td></td>
</tr>
</tbody></table>
<h1 id='attachments'>Attachments</h1><h2 id='711363c424'>查询</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/attachments/query?id[]=2474&amp;id[]=2475</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 2474,</span>
<span class="s">    "name": "屏幕快照 2018-07-16 下午3.40.46.png",</span>
<span class="s">    "size": "81702",</span>
<span class="s">    "mime_type": "image/png",</span>
<span class="s">    "extension": "image",</span>
<span class="s">    "extra_info": {},</span>
<span class="s">    "download_url": "http://7xlxax.dl1.z0.glb.clouddn.com/17013-1531909931-49d1c668335fe2fc660e92042431d544-1531909931258?attname=%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2018-07-16+%E4%B8%8B%E5%8D%883.40.46.png&amp;e=1532329592&amp;token=WFpC8JEsN77rEZRgdoQgQw-yB82e-j3fpp8dXB8Z:JZFJ7usX7rWZ6hxZgkdkq3WWhXw="</span>
<span class="s">  },</span>
<span class="s">  ...</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/attachments/query</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>ids</td>
<td>array</td>
<td>附件id的集合</td>
<td></td>
</tr>
<tr>
<td>fops</td>
<td>string</td>
<td>七牛云图片处理的参数，<a href="https://developer.qiniu.com/search?keyword=%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86">文档</a></td>
<td></td>
</tr>
</tbody></table>
<h2 id='token'>附件Token</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/attachments/uptoken?purpose=create_responses</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "uptoken": "WFpC8JEsN77rEZRgdoQgQw-yB82e-j3fpp8dXB8Z:hQdV5hQ3etWr_MVcMwe8HpHf3bo=:eyJzY29wZSI6InNscC1hdHRhY2htZW50LWJldGEiLCJzYXZlS2V5IjoiMS9jcmVhdGVfcmVzcG9uc2VzLy0xNTk0MDA1ODk0LTFhMmU2ZGVkOGZkMDdiZTM2ZjEzNDI3Yjg4Yzk2MDExLSQoeDprZXkpIiwiY2FsbGJhY2tVcmwiOiJodHRwczovL2JldGEuc2t5bGFya2x5LmNvbS9hdHRhY2htZW50cy5qc29uIiwiY2FsbGJhY2tCb2R5Ijoia2V5PSQoa2V5KVx1MDAyNm5hbWU9JChmbmFtZSlcdTAwMjZzaXplPSQoZnNpemUpXHUwMDI2bWltZV90eXBlPSQobWltZVR5cGUpIiwiZGVhZGxpbmUiOjE1OTQwMDk0OTQsImZzaXplTGltaXQiOjUyNDI4ODAwLCJ1cGhvc3RzIjpbImh0dHA6Ly91cC5xaW5pdS5jb20iLCJodHRwOi8vdXBsb2FkLnFpbml1LmNvbSIsIi1IIHVwLnFpbml1LmNvbSBodHRwOi8vMTgzLjEzMS43LjMiXSwiZ2xvYmFsIjpmYWxzZX0="</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/attachments/uptoken?purpose=create_responses</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>purpose</td>
<td>string</td>
<td>create_responses</td>
<td></td>
</tr>
</tbody></table>
<h2 id='7'>上传7牛</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">https://up.qbox.me/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "extension": "image",</span>
<span class="s">    "extra_info": {},</span>
<span class="s">    "id": 3258,</span>
<span class="s">    "mime_type": "image/jpeg",</span>
<span class="s">    "name": "15690311631029630.jpg",</span>
<span class="s">    "size": "41491"</span>
<span class="s">}</span>
</code></pre>
<p><code>POST https://up.qbox.me/</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>其他接口获取</td>
<td></td>
</tr>
<tr>
<td>file</td>
<td>file</td>
<td>上传的文件</td>
<td></td>
</tr>
<tr>
<td>:key</td>
<td>integer</td>
<td>毫秒表示的时间</td>
<td></td>
</tr>
</tbody></table>
<h2 id='52479ed18f'>创建附件</h2>
<p>· 接口待完善</p>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/attachments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

</code></pre>
<p><code>POST /api/v4/attachments</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td></td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td></td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>size</td>
<td></td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>mime_type</td>
<td></td>
<td>2</td>
<td></td>
</tr>
</tbody></table>
<h1 id='categories'>Categories</h1><h2 id='99f9a7e446'>空间所有分类</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/categories</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 4,</span>
<span class="s">        "name": "庆山社区",</span>
<span class="s">        "depth": 1,</span>
<span class="s">        "description": "",</span>
<span class="s">        "icon": "fa-folder-open",</span>
<span class="s">        "position": 2,</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "external_link": null,</span>
<span class="s">        "sort_type": "manual",</span>
<span class="s">        "cms_variables": "",</span>
<span class="s">        "ancestry": "1"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 114,</span>
<span class="s">        "name": "办事指南",</span>
<span class="s">        "depth": 5,</span>
<span class="s">        "description": "",</span>
<span class="s">        "icon": "fa-folder-open",</span>
<span class="s">        "position": 1590572033,</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "external_link": "http://wsq.cdyoue.com/namespaces/1/categories/111/pages/23",</span>
<span class="s">        "sort_type": "manual",</span>
<span class="s">        "cms_variables": "",</span>
<span class="s">        "ancestry": "1/38/39/80/111"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 110,</span>
<span class="s">        "name": "热线咨询",</span>
<span class="s">        "depth": 5,</span>
<span class="s">        "description": "",</span>
<span class="s">        "icon": "fa-folder-open",</span>
<span class="s">        "position": 1590571945,</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "external_link": "12321",</span>
<span class="s">        "sort_type": "manual",</span>
<span class="s">        "cms_variables": "",</span>
<span class="s">        "ancestry": "1/38/39/80/107"</span>
<span class="s">    },</span>
<span class="s">  ...</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/categories</code></p>
<h2 id='a7fe4ad390'>获取分类</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/categories/:id</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 154,</span>
<span class="s">    "name": "2下子分类2",</span>
<span class="s">    "depth": 2,</span>
<span class="s">    "description": "",</span>
<span class="s">    "icon": "fa-folder-open",</span>
<span class="s">    "position": 1488447621,</span>
<span class="s">    "hidden": false,</span>
<span class="s">    "external_link": null,</span>
<span class="s">    "sort_type": "manual",</span>
<span class="s">    "cms_variables": "",</span>
<span class="s">    "ancestry": "134/136",</span>
<span class="s">    "created_at": "2017-03-02T17:40:21.834+08:00"</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/categories/:id</code></p>
<h2 id='b075a1f04c'>分类下的分类</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/categories/:id/children</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 258,</span>
<span class="s">        "name": "进行中",</span>
<span class="s">        "depth": 3,</span>
<span class="s">        "description": "",</span>
<span class="s">        "icon": "fa-folder-open",</span>
<span class="s">        "position": 1591236841,</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "external_link": null,</span>
<span class="s">        "sort_type": "manual",</span>
<span class="s">        "cms_variables": "",</span>
<span class="s">        "ancestry": "1/2/7",</span>
<span class="s">        "created_at": "2020-06-04T10:14:01.858+08:00"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 259,</span>
<span class="s">        "name": "已结束",</span>
<span class="s">        "depth": 3,</span>
<span class="s">        "description": "",</span>
<span class="s">        "icon": "fa-folder-open",</span>
<span class="s">        "position": 1591236849,</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "external_link": null,</span>
<span class="s">        "sort_type": "manual",</span>
<span class="s">        "cms_variables": "",</span>
<span class="s">        "ancestry": "1/2/7",</span>
<span class="s">        "created_at": "2020-06-04T10:14:09.211+08:00"</span>
<span class="s">    }</span>
<span class="s">  ...</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/categories/:id/children</code></p>
<h2 id='14e534f0d7'>分类下的文章</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/categories/:id/pages</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 38,</span>
<span class="s">        "title": "123456y",</span>
<span class="s">        "html_body": "&lt;p&gt;neirong&lt;/p&gt;",</span>
<span class="s">        "description": "3456",</span>
<span class="s">        "position": 15974,</span>
<span class="s">        "external_link": null,</span>
<span class="s">        "cover": "http://fs.yqfw.cdyoue.com/FnFZ9AtEPQ-nZoNIxsi5QommGcBv",</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "read_count": 2,</span>
<span class="s">        "created_at": "2020-06-03T17:02:54.296+08:00"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 5,</span>
<span class="s">        "title": "高县“群众最满意医师”“最美乡村医生”评选活动，又来啦！",</span>
<span class="s">        "html_body": "&lt;p&gt; 活动详情 : &lt;/p&gt;&lt;p&gt;一、目的意义&lt;/p&gt;&lt;p&gt;加强行业文化建设，弘扬崇高职业精神，提振医疗卫生健康行业精气神，提升医疗卫生服务质量。以评选高县“群众最满意医师”“最美乡村医生”活动为载体，广泛宣传全县广大医务工作者恪尽职守、无私奉献、全心全意为患者服务的先进事迹，弘扬“大医精诚、救死扶伤”的卫生核心价值观，努力打造一支思想端正、业务过硬、作风扎实、爱岗敬业、无私奉献的医师队伍，为保障人民群众健康作出应有的贡献。&lt;/p&gt;&lt;p&gt;二、评选原则&lt;/p&gt;&lt;p&gt;坚持公平、公正、公开的原则，确保广泛的代表性和群众的公认度，面向临床第一线，面向工作业绩突出和医德医风高尚的优秀医务人员。&lt;/p&gt;&lt;p&gt;三、评选条件&lt;/p&gt;&lt;p&gt;（一）从事临床一线的在岗注册医师（含助师及聘用制医师)，在岗注册乡村医生。在本院（本村卫生室）工作满五年，医师定期考核和年度考核合格以上等次。&lt;/p&gt;&lt;p&gt;（二）具有道德行为的先进性，自觉践行社会主义荣辱观，遵守公民基本道德规范，社会形象好、群众认可度高，是医师（乡村医生）队伍的先进典型代表。&lt;/p&gt;&lt;p&gt;（三）爱岗敬业，乐于奉献，坚持以病人为中心，主动、热情为病人提供优质、满意、安全的诊疗服务，深受同事、病人及家属的充分肯定和高度认可，具有感人的先进事迹，无任何不良医疗纠纷。&lt;/p&gt;&lt;p&gt;（四）刻苦钻研业务认真履行岗位职责，医学理论知识扎实，临床业务技能熟练，经验丰富，无四、五级病历，三基理论等相关考试无不及格现象，致力于发展医疗卫生健康事业，为医疗卫生健康事业发展作出突出贡献。&lt;/p&gt;&lt;p&gt;（五）被推荐人选的工作、学习、生活等方面的经历或行为，代表时代发展方向、社会价值观取向，具有示范性和导向性，体现中国传统美德和良好社会风尚。&lt;/p&gt;&lt;p&gt;（六）无违法违纪行为，无收受和索要红包、回扣记录。&lt;/p&gt;&lt;p&gt;（七）服务态度好，具有良好的医患沟通技巧和团队协作精神，无被病人或家属投诉的记录。&lt;/p&gt;&lt;p&gt;四、评选范围及奖项设置&lt;/p&gt;&lt;p&gt;评选范围：各医疗卫生单位(含民营医疗机构)在岗注册的医师（含助师及聘用制医师)，在岗注册乡村医生。&lt;/p&gt;&lt;p&gt;奖项设置：“群众最满意医师”奖10名，提名奖5名；“最美乡村医生”5名，提名奖3名。&lt;/p&gt;&lt;p&gt;五、评选程序和步骤&lt;/p&gt;&lt;p&gt;（一)评选方法&lt;/p&gt;&lt;p&gt;采取综合评价法。按100分制计算，公众投票占总成绩的50%，综合评定占总成绩的50%。&lt;/p&gt;",</span>
<span class="s">        "description": "",</span>
<span class="s">        "position": 150993,</span>
<span class="s">        "external_link": null,</span>
<span class="s">        "cover": "http://fs.yqfw.cdyoue.com/FnWzAvi2yclIi_cvyAV9PSbOe_Tx",</span>
<span class="s">        "hidden": false,</span>
<span class="s">        "read_count": 22,</span>
<span class="s">        "created_at": "2020-05-26T16:16:33.915+08:00"</span>
<span class="s">    }</span>
<span class="s">  ...</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/categories/:id/pages</code></p>
<h1 id='column-explanation'>Column Explanation</h1><h2 id='7dbb085c42'>数据库表解释</h2>
<ul>
<li><p>Flow: 管理员创建的流程</p>

<ul>
<li>Field: 发起人所需要填写的字段</li>
<li>Vertex &amp; Edge: 节点和边，可以构建出流程的策略图</li>
</ul></li>
<li><p>Journey: 用户发起的流程</p>

<ul>
<li>Assignment: 处理者收到的任务</li>
<li>Response: 处理者填写的数据</li>
<li>Moment: 一条流程所有的事件，发起、通过、拒绝、转交...</li>
</ul></li>
</ul>
<h2 id='41e10bfd0d'>字段解释</h2>
<table><thead>
<tr>
<th>Flow Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>流程名称</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Field Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>字段名称</td>
</tr>
<tr>
<td>description</td>
<td>字段描述</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Vertex Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>节点名称</td>
</tr>
<tr>
<td>type</td>
<td>节点描述</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Edge Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>from_vertex_id</td>
<td>入节点id</td>
</tr>
<tr>
<td>to_vertex_id</td>
<td>出节点id</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Journey Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>sn</td>
<td>流程编号</td>
</tr>
<tr>
<td>status</td>
<td>状态</td>
</tr>
<tr>
<td>current_vertex_id</td>
<td>当前节点id</td>
</tr>
<tr>
<td>reviewer_vertex_ids</td>
<td>已完成的节点ids</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Journey Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>vertex_id</td>
<td>节点id</td>
</tr>
<tr>
<td>status</td>
<td>状态</td>
</tr>
<tr>
<td>categroy</td>
<td><code>proposed</code>: 为发起人创建的; <code>processed</code>: 为每个处理人创建的; <code>cc</code>: 为抄送者创建的</td>
</tr>
<tr>
<td>operation_data</td>
<td>处理的相关数据</td>
</tr>
<tr>
<td>operation_data[comment]</td>
<td>处理意见</td>
</tr>
<tr>
<td>operation_data[esignature]</td>
<td>电子签名，base64编码的图片</td>
</tr>
<tr>
<td>operation_data[next_vertex_id]</td>
<td>下一节点id</td>
</tr>
<tr>
<td>operation_data[next_reviewer_ids]</td>
<td>指定下一节点处理人id</td>
</tr>
<tr>
<td>operation_data[duration_thresholds]</td>
<td>下一节点处理时间限制</td>
</tr>
<tr>
<td>operation_data[carbon_copy_user_ids]</td>
<td>抄送给其他用户id</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Moment Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>意义参考journey status</td>
</tr>
<tr>
<td>comment</td>
<td>处理意见</td>
</tr>
<tr>
<td>esignature</td>
<td>电子签名，base64编码的图片</td>
</tr>
<tr>
<td>vertex_id</td>
<td>处理节点id</td>
</tr>
<tr>
<td>user</td>
<td>发起人或处理人</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>User Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>姓名</td>
</tr>
<tr>
<td>identifier</td>
<td>识别码</td>
</tr>
<tr>
<td>headimgurl</td>
<td>头像</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Column</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>cached_values</td>
<td><code>json</code>数据</td>
</tr>
</tbody></table>
<h2 id='2574b30335'>流程状态解释</h2>
<ul>
<li>当流程发起时(Journey Create)，会为发起人创建一个proposed Assignment</li>
<li>当流程到达处理人节点是，会为每一个处理人创建一个processed Assignment</li>
<li>proposed Assignment和Journey的状态是同步变化的，eg: Journey为finished, proposed Assignment也为finished</li>
<li>processed Assignment状态对Journey影响

<ul>
<li>当所有节点都通过(approved)时，流程(Journey)变成finished</li>
<li>处理人拒绝(refused)到开始节点，流程(Journey)变成receding</li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>处理人(processed) Assignment Status</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>processing</td>
<td>任务正在处理中</td>
</tr>
<tr>
<td>approved</td>
<td>通过</td>
</tr>
<tr>
<td>refused</td>
<td>拒绝, 可能拒绝到开始节点；可能拒绝到上一节点</td>
</tr>
<tr>
<td>transferred</td>
<td>转交</td>
</tr>
<tr>
<td>skipped</td>
<td>被其他人处理</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>发起人(proposed) Assignment Status</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>processing</td>
<td>流程正在处理中</td>
</tr>
<tr>
<td>cancelled</td>
<td>发起人撤销流程</td>
</tr>
<tr>
<td>receding</td>
<td>被处理人回退到开始节点</td>
</tr>
<tr>
<td>finished</td>
<td>所有节点通过，流程完成</td>
</tr>
<tr>
<td>aborted</td>
<td>管理员手动终止流程</td>
</tr>
<tr>
<td>suspended</td>
<td>流程异常，eg: 找不到下一节点；下一节点没有处理人...</td>
</tr>
</tbody></table>
<h2 id='response-cached_values'>Response cached_values 说明</h2>
<ul>
<li>展示建议使用text_value</li>
<li>附件的下载地址有权限限制，如果想获取附件真正的下载地址，通过附件<a href="https://github.com/GreenNerd/SLP-ChangeLog/wiki/%E9%99%84%E4%BB%B6api-v4">接口</a></li>
</ul>
<pre class="highlight plaintext"><code>一般字段
{
  `field_id`: {
    {
      value: [...],
      text_value: [...],
      exported_value: [...]
    }
  }
}
</code></pre><pre class="highlight plaintext"><code>明细`(Field::Detail)`字段
{
  `detail_id`: {
    group_ids: [...],
    child_ids: [...]
  }
}
</code></pre><pre class="highlight plaintext"><code>明细内的字段
{
  `child_id`: {
    grouped_ids: [...],
    grouped_values: [
      `group_id`: {
        group_id: `group_id`,
        value: [...],
        text_value: [...],
        exported_value: [...]
      }
    ]
  }
}
</code></pre><h1 id='comments'>Comments</h1><h2 id='35e7e445ab'>新增评论</h2><pre class="highlight http tab-http"><code><span class="err">POST /api/v4/comments
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">body:</span>
<span class="s">  {</span>
<span class="s">    "comment": {</span>
<span class="s">        "body": "2345678765434567"</span>
<span class="s">    },</span>
<span class="s">    "user_id": 690,</span>
<span class="s">    "cms_page_id": 341</span>
<span class="s">}</span>

{
    "id": 265,
    "author_id": 690,
    "commentable_id": 341,
    "commentable_type": "Cms::Page",
    "body": "2345678765434567",
    "status": "pending",
    "handled_user_id": null,
    "replied_comment_id": null,
    "created_at": "2020-07-07T16:49:03.868+08:00",
    "author": {
        "id": 690,
        "name": "郑薛林",
        "nickname": "贤独丨🤺",
        "phone": "15883535414",
        "identifier": "15883535414",
        "qq": null,
        "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ",
        "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",
        "imported_alias": "郑薛林",
        "from_wechat": false,
        "tags": [],
        "profile_submission": {
            "entries": []
        }
    }
}
</code></pre>
<p><code>POST /api/v4/comments</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
</tbody></table>
<h2 id='2770c4d591'>查询评论</h2><pre class="highlight http tab-http"><code><span class="err">GET /api/v4/comments
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 261,</span>
<span class="s">        "author_id": 690,</span>
<span class="s">        "commentable_id": 341,</span>
<span class="s">        "commentable_type": "Cms::Page",</span>
<span class="s">        "body": "2345678765434567",</span>
<span class="s">        "status": "approved",</span>
<span class="s">        "handled_user_id": 690,</span>
<span class="s">        "replied_comment_id": null,</span>
<span class="s">        "created_at": "2020-07-07T16:45:41.098+08:00",</span>
<span class="s">        "author": {</span>
<span class="s">            "id": 690,</span>
<span class="s">            "name": "郑薛林",</span>
<span class="s">            "nickname": "贤独丨🤺",</span>
<span class="s">            "phone": "15883535414",</span>
<span class="s">            "identifier": "15883535414",</span>
<span class="s">            "qq": null,</span>
<span class="s">            "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ",</span>
<span class="s">            "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",</span>
<span class="s">            "imported_alias": "郑薛林",</span>
<span class="s">            "from_wechat": false,</span>
<span class="s">            "tags": [],</span>
<span class="s">            "profile_submission": {</span>
<span class="s">                "entries": []</span>
<span class="s">            }</span>
<span class="s">        }</span>
<span class="s">    }</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/comments</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>number</td>
<td>用户ID</td>
<td>----</td>
</tr>
<tr>
<td>cms_page_id</td>
<td>number</td>
<td>文章id</td>
<td>----</td>
</tr>
</tbody></table>
<h2 id='a602a2cfb5'>删除评论</h2><pre class="highlight http tab-http"><code><span class="err">DELETE /api/v4/comments:id
Authorization: your_authorization
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">OK</span>


</code></pre>
<p><code>DELETE /api/v4/comments</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>number</td>
<td>用户id</td>
<td>----</td>
</tr>
<tr>
<td>id</td>
<td>number</td>
<td>评论数据id</td>
<td>----</td>
</tr>
</tbody></table>
<h1 id='flows'>Flows</h1><h2 id='1'>新建流程（1）</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/yaw/flows/27/journeys</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">Body中传入</span>
<span class="s">{</span>
<span class="s">    "assignment": {</span>
<span class="s">        "response_attributes": {</span>
<span class="s">            "entries_attributes": [</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 545,</span>
<span class="s">                    "value": "7-4-406"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 496,</span>
<span class="s">                    "value": "123"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 497,</span>
<span class="s">                    "value": "657"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 498,</span>
<span class="s">                    "value": "7"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 499,</span>
<span class="s">                    "value": "757"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 516,</span>
<span class="s">                    "value": "5"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 517,</span>
<span class="s">                    "value": "576"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 519,</span>
<span class="s">                    "value": "57"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 521,</span>
<span class="s">                    "value": "576"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 546,</span>
<span class="s">                    "option_id": 913</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 525,</span>
<span class="s">                    "value": "75"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 527,</span>
<span class="s">                    "value": "75"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 523,</span>
<span class="s">                    "value": "57"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 500,</span>
<span class="s">                    "value": "57"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 501,</span>
<span class="s">                    "option_id": 901</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 502,</span>
<span class="s">                    "value": "757"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 503,</span>
<span class="s">                    "value": "2020-08-27"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 504,</span>
<span class="s">                    "value": "5765"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 505,</span>
<span class="s">                    "value": "675"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 506,</span>
<span class="s">                    "value": "75"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 507,</span>
<span class="s">                    "value": "75"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 509,</span>
<span class="s">                    "value": "675"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 510,</span>
<span class="s">                    "value": "675"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 511,</span>
<span class="s">                    "value": "75"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 512,</span>
<span class="s">                    "option_id": 905</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 513,</span>
<span class="s">                    "value": "6757"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 515,</span>
<span class="s">                    "value": "576"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 518,</span>
<span class="s">                    "value": "575"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 520,</span>
<span class="s">                    "value": "2020-08-27"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 528,</span>
<span class="s">                    "value": "657"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 526,</span>
<span class="s">                    "value": "5675"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "field_id": 529,</span>
<span class="s">                    "value": "2020-08-27"</span>
<span class="s">                }</span>
<span class="s">            ]</span>
<span class="s">        },</span>
<span class="s">        "operation": "route"</span>
<span class="s">    },</span>
<span class="s">    "user_id": "1",</span>
<span class="s">    "webhook": {</span>
<span class="s">        "payload_url": "http://shandenabian.skylarkly.com/magnate/hourse/status/sign",</span>
<span class="s">        "subscribed_events": [</span>
<span class="s">            "JourneyStatusEvent"</span>
<span class="s">        ]</span>
<span class="s">    }</span>
<span class="s">}</span>
<span class="s">{</span>
<span class="s">    "assignment": {</span>
<span class="s">        "id": 693,</span>
<span class="s">        "status": "stashed",</span>
<span class="s">        "category": "proposed",</span>
<span class="s">        "read": true,</span>
<span class="s">        "current_duration_threshold": null,</span>
<span class="s">        "created_at": "2020-09-07T09:52:41.927+08:00",</span>
<span class="s">        "updated_at": "2020-09-07T09:52:41.959+08:00",</span>
<span class="s">        "after_submit_action": "default",</span>
<span class="s">        "after_submit_redirect_url": null,</span>
<span class="s">        "gid": "gid://skylark/YetAnotherWorkflow::Assignment/693",</span>
<span class="s">        "pretty_current_duration_threshold": null,</span>
<span class="s">        "journey": {</span>
<span class="s">            "id": 290,</span>
<span class="s">            "sn": "2720200907095241000019",</span>
<span class="s">            "status": "stashed",</span>
<span class="s">            "current_duration_threshold": null,</span>
<span class="s">            "created_at": "2020-09-07T09:52:41.884+08:00",</span>
<span class="s">            "updated_at": "2020-09-07T09:52:41.884+08:00",</span>
<span class="s">            "gid": "gid://skylark/YetAnotherWorkflow::Journey/290",</span>
<span class="s">            "pretty_current_duration_threshold": null,</span>
<span class="s">            "response": {</span>
<span class="s">                "id": 4491,</span>
<span class="s">                "created_at": "2020-09-07T09:52:41.865+08:00",</span>
<span class="s">                "entries": []</span>
<span class="s">            },</span>
<span class="s">            "user": {</span>
<span class="s">                "id": 1,</span>
<span class="s">                "name": "水映汀洲",</span>
<span class="s">                "nickname": "坤",</span>
<span class="s">                "phone": "18980807092",</span>
<span class="s">                "identifier": "123456",</span>
<span class="s">                "qq": "",</span>
<span class="s">                "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/uJ7wdTmBn87QFExPS17iam0BxXiakvKI8rv2G49VNFGEzIC5BRGxtjvwSyExjN8ulQql4FZcY6NvVeO6xMvK3Piag",</span>
<span class="s">                "openid": "ouvMN1kWhKQuOFQEoZcmiOXt4Yjs",</span>
<span class="s">                "imported_alias": "水映汀洲",</span>
<span class="s">                "gid": "gid://skylark/User/1"</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "response": {</span>
<span class="s">            "id": 4492,</span>
<span class="s">            "created_at": "2020-09-07T09:52:41.904+08:00",</span>
<span class="s">            "entries": [</span>
<span class="s">                {</span>
<span class="s">                    "id": 62935,</span>
<span class="s">                    "field_id": 529,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "2020-08-27",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62934,</span>
<span class="s">                    "field_id": 526,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "5675",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62933,</span>
<span class="s">                    "field_id": 513,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "6757",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62932,</span>
<span class="s">                    "field_id": 512,</span>
<span class="s">                    "option_id": 905,</span>
<span class="s">                    "value": "护照",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62931,</span>
<span class="s">                    "field_id": 511,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "75",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62930,</span>
<span class="s">                    "field_id": 510,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "675",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62929,</span>
<span class="s">                    "field_id": 509,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "675",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62928,</span>
<span class="s">                    "field_id": 507,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "75",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62927,</span>
<span class="s">                    "field_id": 506,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "75",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62926,</span>
<span class="s">                    "field_id": 505,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "675",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62925,</span>
<span class="s">                    "field_id": 504,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "5765",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62924,</span>
<span class="s">                    "field_id": 503,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "2020-08-27",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62923,</span>
<span class="s">                    "field_id": 502,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "757",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62922,</span>
<span class="s">                    "field_id": 501,</span>
<span class="s">                    "option_id": 901,</span>
<span class="s">                    "value": "护照",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62921,</span>
<span class="s">                    "field_id": 500,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "57",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62920,</span>
<span class="s">                    "field_id": 523,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "57",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62919,</span>
<span class="s">                    "field_id": 527,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "75",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62918,</span>
<span class="s">                    "field_id": 525,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "75",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62917,</span>
<span class="s">                    "field_id": 546,</span>
<span class="s">                    "option_id": 913,</span>
<span class="s">                    "value": "分期",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62916,</span>
<span class="s">                    "field_id": 521,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "576",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62915,</span>
<span class="s">                    "field_id": 519,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "57",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62914,</span>
<span class="s">                    "field_id": 517,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "576",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62913,</span>
<span class="s">                    "field_id": 516,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "5",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62912,</span>
<span class="s">                    "field_id": 499,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "757",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62911,</span>
<span class="s">                    "field_id": 498,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "7",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62910,</span>
<span class="s">                    "field_id": 497,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "657",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62909,</span>
<span class="s">                    "field_id": 496,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "123",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 62908,</span>
<span class="s">                    "field_id": 545,</span>
<span class="s">                    "option_id": null,</span>
<span class="s">                    "value": "7-4-406",</span>
<span class="s">                    "choice_id": null,</span>
<span class="s">                    "value_id": null,</span>
<span class="s">                    "latitude": null,</span>
<span class="s">                    "longitude": null,</span>
<span class="s">                    "group_id": null,</span>
<span class="s">                    "detail_id": null</span>
<span class="s">                }</span>
<span class="s">            ]</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "next_vertices": [</span>
<span class="s">        {</span>
<span class="s">            "id": 82,</span>
<span class="s">            "name": "工作人员",</span>
<span class="s">            "type": "YetAnotherWorkflow::Vertex::Normal",</span>
<span class="s">            "metadata": {</span>
<span class="s">                "position": {</span>
<span class="s">                    "x": 395,</span>
<span class="s">                    "y": 224.71875</span>
<span class="s">                }</span>
<span class="s">            },</span>
<span class="s">            "operations": {</span>
<span class="s">                "route": {</span>
<span class="s">                    "name": "选路",</span>
<span class="s">                    "enabled": true</span>
<span class="s">                },</span>
<span class="s">                "refuse": {</span>
<span class="s">                    "name": "回退",</span>
<span class="s">                    "enabled": true</span>
<span class="s">                },</span>
<span class="s">                "approve": {</span>
<span class="s">                    "name": "通过",</span>
<span class="s">                    "enabled": true</span>
<span class="s">                },</span>
<span class="s">                "comment": {</span>
<span class="s">                    "name": "处理意见",</span>
<span class="s">                    "enabled": true</span>
<span class="s">                },</span>
<span class="s">                "transfer": {</span>
<span class="s">                    "name": "转交",</span>
<span class="s">                    "enabled": true</span>
<span class="s">                },</span>
<span class="s">                "esignature": {</span>
<span class="s">                    "name": "电子签字",</span>
<span class="s">                    "enabled": false</span>
<span class="s">                }</span>
<span class="s">            },</span>
<span class="s">            "settings": {</span>
<span class="s">                "carbon_copy": {</span>
<span class="s">                    "enable_manual": false</span>
<span class="s">                },</span>
<span class="s">                "refuse_mode": 1,</span>
<span class="s">                "assign_manually": false,</span>
<span class="s">                "duration_threshold": {</span>
<span class="s">                    "value": null,</span>
<span class="s">                    "enable_delay": false,</span>
<span class="s">                    "business_time": {</span>
<span class="s">                        "final": "17:00",</span>
<span class="s">                        "initial": "09:00",</span>
<span class="s">                        "workday": true</span>
<span class="s">                    },</span>
<span class="s">                    "enable_manual": false,</span>
<span class="s">                    "enable_business_time": false</span>
<span class="s">                },</span>
<span class="s">                "distributed_equally": false</span>
<span class="s">            },</span>
<span class="s">            "graph_id": 28,</span>
<span class="s">            "created_at": "2020-08-14T15:49:39.367+08:00",</span>
<span class="s">            "updated_at": "2020-08-27T14:31:43.061+08:00",</span>
<span class="s">            "gid": "gid://skylark/YetAnotherWorkflow::Vertex::Normal/82",</span>
<span class="s">            "fields": []</span>
<span class="s">        }</span>
<span class="s">    ],</span>
<span class="s">    "next_graphs": [</span>
<span class="s">        {</span>
<span class="s">            "id": 28,</span>
<span class="s">            "name": "主流程",</span>
<span class="s">            "ancestry": null,</span>
<span class="s">            "settings": {</span>
<span class="s">                "visibility": "public",</span>
<span class="s">                "duration_threshold": {</span>
<span class="s">                    "value": null,</span>
<span class="s">                    "enable_delay": false,</span>
<span class="s">                    "business_time": {</span>
<span class="s">                        "final": "17:00",</span>
<span class="s">                        "initial": "09:00",</span>
<span class="s">                        "workday": true</span>
<span class="s">                    },</span>
<span class="s">                    "enable_manual": false,</span>
<span class="s">                    "enable_business_time": false</span>
<span class="s">                }</span>
<span class="s">            },</span>
<span class="s">            "metadata": {},</span>
<span class="s">            "created_at": "2020-08-14T15:42:29.868+08:00",</span>
<span class="s">            "updated_at": "2020-08-14T15:42:29.940+08:00",</span>
<span class="s">            "gid": "gid://skylark/YetAnotherWorkflow::Graph/28"</span>
<span class="s">        }</span>
<span class="s">    ]</span>
<span class="s">}</span>
</code></pre>
<p><code>POST /api/v4/yaw/flows/27/journeys</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>流程 id</td>
<td></td>
</tr>
<tr>
<td>entries_attributes</td>
<td>array</td>
<td>每一项的值组成的数组</td>
<td>格式固定</td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>每一项值的 ID</td>
<td>--</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>每一项的值</td>
<td>--</td>
</tr>
<tr>
<td>operation</td>
<td>string</td>
<td>流程发起的状态</td>
<td>固定值为：route</td>
</tr>
<tr>
<td>user_id</td>
<td>integer</td>
<td>用户 id</td>
<td>--</td>
</tr>
<tr>
<td>webhook</td>
<td>object</td>
<td>监听流程状态</td>
<td>--</td>
</tr>
<tr>
<td>payload_url</td>
<td>strings</td>
<td>流程通过的回调地址</td>
<td>--</td>
</tr>
<tr>
<td>subscribed_events</td>
<td>strings</td>
<td>固定值</td>
<td>JourneyStatusEvent</td>
</tr>
</tbody></table>
<h2 id='2'>新建流程确认（2）</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/yaw/flows/27/journeys</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">Body中传入</span>
<span class="s">{</span>
<span class="s">    "assignment": {</span>
<span class="s">        "response_attributes": {</span>
<span class="s">            "entries_attributes": []</span>
<span class="s">        },</span>
<span class="s">        "operation": "propose",</span>
<span class="s">        "next_vertex_id": 82</span>
<span class="s">    },</span>
<span class="s">    "user_id": "1",</span>
<span class="s">    "webhook": {</span>
<span class="s">        "payload_url": "http://shandenabian.skylarkly.com/magnate/hourse/status/sign",</span>
<span class="s">        "subscribed_events": [</span>
<span class="s">            "JourneyStatusEvent"</span>
<span class="s">        ]</span>
<span class="s">    }</span>
<span class="s">}</span>
<span class="s">{</span>
<span class="s">    "id": 693,</span>
<span class="s">    "status": "processing",</span>
<span class="s">    "category": "proposed",</span>
<span class="s">    "read": true,</span>
<span class="s">    "current_duration_threshold": null,</span>
<span class="s">    "created_at": "2020-09-07T09:53:06.796+08:00",</span>
<span class="s">    "updated_at": "2020-09-07T09:53:06.833+08:00",</span>
<span class="s">    "after_submit_action": "default",</span>
<span class="s">    "after_submit_redirect_url": null,</span>
<span class="s">    "gid": "gid://skylark/YetAnotherWorkflow::Assignment/693",</span>
<span class="s">    "pretty_current_duration_threshold": null,</span>
<span class="s">    "journey": {</span>
<span class="s">        "id": 290,</span>
<span class="s">        "sn": "2720200907095241000019",</span>
<span class="s">        "status": "processing",</span>
<span class="s">        "current_duration_threshold": null,</span>
<span class="s">        "created_at": "2020-09-07T09:53:06.796+08:00",</span>
<span class="s">        "updated_at": "2020-09-07T09:53:06.796+08:00",</span>
<span class="s">        "gid": "gid://skylark/YetAnotherWorkflow::Journey/290",</span>
<span class="s">        "pretty_current_duration_threshold": null,</span>
<span class="s">        "response": {</span>
<span class="s">            "id": 4491,</span>
<span class="s">            "created_at": "2020-09-07T09:52:41.865+08:00",</span>
<span class="s">            "entries": []</span>
<span class="s">        },</span>
<span class="s">        "user": {</span>
<span class="s">            "id": 1,</span>
<span class="s">            "name": "水映汀洲",</span>
<span class="s">            "nickname": "坤",</span>
<span class="s">            "phone": "18980807092",</span>
<span class="s">            "identifier": "123456",</span>
<span class="s">            "qq": "",</span>
<span class="s">            "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/uJ7wdTmBn87QFExPS17iam0BxXiakvKI8rv2G49VNFGEzIC5BRGxtjvwSyExjN8ulQql4FZcY6NvVeO6xMvK3Piag",</span>
<span class="s">            "openid": "ouvMN1kWhKQuOFQEoZcmiOXt4Yjs",</span>
<span class="s">            "imported_alias": "水映汀洲",</span>
<span class="s">            "gid": "gid://skylark/User/1"</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "response": {</span>
<span class="s">        "id": 4492,</span>
<span class="s">        "created_at": "2020-09-07T09:52:41.904+08:00",</span>
<span class="s">        "entries": [</span>
<span class="s">            {</span>
<span class="s">                "id": 62935,</span>
<span class="s">                "field_id": 529,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "2020-08-27",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62934,</span>
<span class="s">                "field_id": 526,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "5675",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62933,</span>
<span class="s">                "field_id": 513,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "6757",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62932,</span>
<span class="s">                "field_id": 512,</span>
<span class="s">                "option_id": 905,</span>
<span class="s">                "value": "护照",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62931,</span>
<span class="s">                "field_id": 511,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "75",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62930,</span>
<span class="s">                "field_id": 510,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "675",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62929,</span>
<span class="s">                "field_id": 509,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "675",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62928,</span>
<span class="s">                "field_id": 507,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "75",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62927,</span>
<span class="s">                "field_id": 506,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "75",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62926,</span>
<span class="s">                "field_id": 505,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "675",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62925,</span>
<span class="s">                "field_id": 504,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "5765",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62924,</span>
<span class="s">                "field_id": 503,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "2020-08-27",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62923,</span>
<span class="s">                "field_id": 502,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "757",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62922,</span>
<span class="s">                "field_id": 501,</span>
<span class="s">                "option_id": 901,</span>
<span class="s">                "value": "护照",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62921,</span>
<span class="s">                "field_id": 500,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "57",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62920,</span>
<span class="s">                "field_id": 523,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "57",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62919,</span>
<span class="s">                "field_id": 527,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "75",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62918,</span>
<span class="s">                "field_id": 525,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "75",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62917,</span>
<span class="s">                "field_id": 546,</span>
<span class="s">                "option_id": 913,</span>
<span class="s">                "value": "分期",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62916,</span>
<span class="s">                "field_id": 521,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "576",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62915,</span>
<span class="s">                "field_id": 519,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "57",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62914,</span>
<span class="s">                "field_id": 517,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "576",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62913,</span>
<span class="s">                "field_id": 516,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "5",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62912,</span>
<span class="s">                "field_id": 499,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "757",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62911,</span>
<span class="s">                "field_id": 498,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "7",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62910,</span>
<span class="s">                "field_id": 497,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "657",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62909,</span>
<span class="s">                "field_id": 496,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "123",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 62908,</span>
<span class="s">                "field_id": 545,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "7-4-406",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            }</span>
<span class="s">        ]</span>
<span class="s">    }</span>
<span class="s">}</span>
</code></pre>
<p><code>POST /api/v4/yaw/flows/:id/journeys</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>流程 id</td>
<td></td>
</tr>
<tr>
<td>entries_attributes</td>
<td>array</td>
<td>每一项的值组成的数组</td>
<td>空数组</td>
</tr>
<tr>
<td>operation</td>
<td>string</td>
<td>流程发起的状态</td>
<td>固定值为：propose</td>
</tr>
<tr>
<td>next_vertex_id</td>
<td>integer</td>
<td>下一个节点 ID</td>
<td>上一个接口返回</td>
</tr>
<tr>
<td>user_id</td>
<td>integer</td>
<td>用户 id</td>
<td>--</td>
</tr>
<tr>
<td>webhook</td>
<td>object</td>
<td>监听流程状态</td>
<td>--</td>
</tr>
<tr>
<td>payload_url</td>
<td>strings</td>
<td>流程通过的回调地址</td>
<td>--</td>
</tr>
<tr>
<td>subscribed_events</td>
<td>strings</td>
<td>固定值</td>
<td>JourneyStatusEvent</td>
</tr>
</tbody></table>

<!-- ## 获取单条流程数据

```http
GET /api/v4/yaw/flows/#{flow_id}/journeys/#{id} HTTP/1.1
Authorization: your_authorization

```

```http
HTTP/1.1 200 OK

```

`GET /v4/responses/:dataID`

**Parameters**

| Name | Type    | Description | Comments |
| ---- | ------- | ----------- | -------- |
| id   | integer | 数据 id     | -->
<h2 id='155570b4f1'>创建组织流程</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/yaw/flows/8</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "id":8,</span>
<span class="s">  "title":"简单流程",</span>
<span class="s">  "fields":[</span>
<span class="s">    {</span>
<span class="s">      "id":38761,</span>
<span class="s">      "title":"别填",</span>
<span class="s">      "description":null</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":38806,</span>
<span class="s">      "title":"明细清单",</span>
<span class="s">      "description":null</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "vertices":[</span>
<span class="s">    {</span>
<span class="s">      "id":78,</span>
<span class="s">      "name":"开始节点",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Initial"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":80,</span>
<span class="s">      "name":"流程节点3",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Normal"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":79,</span>
<span class="s">      "name":"结束节点",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Final"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":90,</span>
<span class="s">      "name":"流程节点2",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Normal"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":91,</span>
<span class="s">      "name":"流程节点1",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Normal"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":113,</span>
<span class="s">      "name":"开始节点",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Initial"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":114,</span>
<span class="s">      "name":"结束节点",</span>
<span class="s">      "type":"YetAnotherWorkflow::Vertex::Final"</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "edges":[</span>
<span class="s">    {</span>
<span class="s">      "id":101,</span>
<span class="s">      "from_vertex_id":78,</span>
<span class="s">      "to_vertex_id":91</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":92,</span>
<span class="s">      "from_vertex_id":80,</span>
<span class="s">      "to_vertex_id":79</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":103,</span>
<span class="s">      "from_vertex_id":90,</span>
<span class="s">      "to_vertex_id":80</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":102,</span>
<span class="s">      "from_vertex_id":91,</span>
<span class="s">      "to_vertex_id":90</span>
<span class="s">    }</span>
<span class="s">  ]</span>
<span class="s">}</span>

</code></pre>
<p><code>GET /api/v4/yaw/flows/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>流程 id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='abb5975e52'>获取发起的流程列表</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/yaw/flows/110/journeys</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-SLP-Current-Page</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Pages</span><span class="p">:</span> <span class="s">29</span>
<span class="na">X-SLP-Total-Count</span><span class="p">:</span> <span class="s">2</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id":110,</span>
<span class="s">    "sn":"820180503184630000029",</span>
<span class="s">    "status":"processing",</span>
<span class="s">    "current_duration_threshold":null,</span>
<span class="s">    "created_at":"2018-06-06T15:39:10.532+08:00",</span>
<span class="s">    "updated_at":"2018-06-06T15:39:10.532+08:00",</span>
<span class="s">    "current_vertex_id":91,</span>
<span class="s">    "reviewer_vertex_ids":[</span>
<span class="s">      78</span>
<span class="s">    ],</span>
<span class="s">    "response":{</span>
<span class="s">      "id":548288,</span>
<span class="s">      "cached_values":{</span>
<span class="s">        "38761":{</span>
<span class="s">          "value":[</span>
<span class="s">            "123123123"</span>
<span class="s">          ],</span>
<span class="s">          "text_value":[</span>
<span class="s">            "123123123"</span>
<span class="s">          ],</span>
<span class="s">          "exported_value":[</span>
<span class="s">            "123123123"</span>
<span class="s">          ]</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    "user":{</span>
<span class="s">      "id":17013,</span>
<span class="s">      "name":"aaaa",</span>
<span class="s">      "identifier":"12345",</span>
<span class="s">      "headimgurl":"/non-digested-assets/avatars/default.png"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  ...</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/yaw/flows/:id/journeys</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>流程 id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='moment'>获取某条流程的所有 Moment</h2><pre class="highlight http tab-http"><code><span class="err">GET /api/v4/yaw/journeys/392/moments
Authorization: your_authorization

</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 392,</span>
<span class="s">    "status": "proposed",</span>
<span class="s">    "comment": null,</span>
<span class="s">    "esignature": "data:image/png;base64,something",</span>
<span class="s">    "created_at": "2018-06-29T15:09:31.835+08:00",</span>
<span class="s">    "updated_at": "2018-06-29T15:09:31.835+08:00",</span>
<span class="s">    "vertex_id": 168,</span>
<span class="s">    "user": {</span>
<span class="s">      "id": 127057,</span>
<span class="s">      "name": "cacao",</span>
<span class="s">      "identifier": null,</span>
<span class="s">      "headimgurl": "/non-digested-assets/avatars/default.png"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 393,</span>
<span class="s">    "status": "approved",</span>
<span class="s">    "comment": "",</span>
<span class="s">    "esignature": "data:image/png;base64,something",</span>
<span class="s">    "created_at": "2018-06-29T15:09:46.297+08:00",</span>
<span class="s">    "updated_at": "2018-06-29T15:09:46.297+08:00",</span>
<span class="s">    "vertex_id": 170,</span>
<span class="s">    "user": {</span>
<span class="s">      "id": 127057,</span>
<span class="s">      "name": "cacao",</span>
<span class="s">      "identifier": null,</span>
<span class="s">      "headimgurl": "/non-digested-assets/avatars/default.png"</span>
<span class="s">    }</span>
<span class="s">  }</span>
<span class="s">]</span>
</code></pre>
<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>流程 id</td>
<td></td>
</tr>
</tbody></table>
<h1 id='forms'>Forms</h1><h2 id='1de85d87d5'>表单信息</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/forms/3987</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 7,</span>
<span class="s">    "title": "2016年09月20日工作报告",</span>
<span class="s">    "description": "&lt;p&gt;&lt;img src=\"https://images.skylarkly.com/Fh3rPkNswcUh3CCREX_YlfSZnbhI\" alt=\"simditor-img\"&gt;&lt;br&gt;&lt;/p&gt;",</span>
<span class="s">    "created_at": "2016-09-20T16:44:28.082+08:00",</span>
<span class="s">    "updated_at": "2018-08-30T11:33:19.857+08:00",</span>
<span class="s">    "status": "published",</span>
<span class="s">    "fields": [</span>
<span class="s">        {</span>
<span class="s">            "id": 26,</span>
<span class="s">            "title": "为了督促大家填写工作日志，请大家按时完成以下表单！该表单将于明日上午十点关闭。谢谢大家！",</span>
<span class="s">            "description": "",</span>
<span class="s">            "type": "Field::SectionBreak",</span>
<span class="s">            "position": 0,</span>
<span class="s">            "validations": [],</span>
<span class="s">            "other_option": null,</span>
<span class="s">            "visibility": "public_visibility",</span>
<span class="s">            "marked": false,</span>
<span class="s">            "settings": {</span>
<span class="s">                "layout": "block",</span>
<span class="s">                "other_option_settings": {</span>
<span class="s">                    "limit": {}</span>
<span class="s">                },</span>
<span class="s">                "length_limit": {},</span>
<span class="s">                "limit_settings": {},</span>
<span class="s">                "char_size_limit_settings": {}</span>
<span class="s">            },</span>
<span class="s">            "detail_id": null,</span>
<span class="s">            "identity_key": "field_26",</span>
<span class="s">            "data": {}</span>
<span class="s">        },</span>
<span class="s">        {</span>
<span class="s">            "id": 27,</span>
<span class="s">            "title": "上午完成工作",</span>
<span class="s">            "description": "",</span>
<span class="s">            "type": "Field::TextArea",</span>
<span class="s">            "position": 3,</span>
<span class="s">            "validations": [</span>
<span class="s">                "presence"</span>
<span class="s">            ],</span>
<span class="s">            "other_option": null,</span>
<span class="s">            "visibility": "public_visibility",</span>
<span class="s">            "marked": false,</span>
<span class="s">            "settings": {</span>
<span class="s">                "layout": "block",</span>
<span class="s">                "other_option_settings": {</span>
<span class="s">                    "limit": {}</span>
<span class="s">                },</span>
<span class="s">                "length_limit": {},</span>
<span class="s">                "limit_settings": {},</span>
<span class="s">                "char_size_limit_settings": {}</span>
<span class="s">            },</span>
<span class="s">            "detail_id": null,</span>
<span class="s">            "identity_key": "field_27",</span>
<span class="s">            "data": {}</span>
<span class="s">        },</span>
<span class="s">        {</span>
<span class="s">            "id": 28,</span>
<span class="s">            "title": "下午完成工作",</span>
<span class="s">            "description": "",</span>
<span class="s">            "type": "Field::TextArea",</span>
<span class="s">            "position": 4,</span>
<span class="s">            "validations": [</span>
<span class="s">                "presence"</span>
<span class="s">            ],</span>
<span class="s">            "other_option": null,</span>
<span class="s">            "visibility": "public_visibility",</span>
<span class="s">            "marked": false,</span>
<span class="s">            "settings": {</span>
<span class="s">                "layout": "block",</span>
<span class="s">                "other_option_settings": {</span>
<span class="s">                    "limit": {}</span>
<span class="s">                },</span>
<span class="s">                "length_limit": {},</span>
<span class="s">                "limit_settings": {},</span>
<span class="s">                "char_size_limit_settings": {}</span>
<span class="s">            },</span>
<span class="s">            "detail_id": null,</span>
<span class="s">            "identity_key": "field_28",</span>
<span class="s">            "data": {}</span>
<span class="s">        }</span>
<span class="s">    ]</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/forms/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>表单 id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='52dced31b8'>表单数据</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/forms/548795/responses</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-SLP-Current-Page</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Pages</span><span class="p">:</span> <span class="s">3</span>
<span class="na">X-SLP-Total-Count</span><span class="p">:</span> <span class="s">100</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 71630,</span>
<span class="s">        "created_at": "2020-06-18T11:31:53.996+08:00",</span>
<span class="s">        "cached_values": {</span>
<span class="s">            "5924": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "test"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "test"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "test"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5925": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "12345677654"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "12345677654"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "12345677654"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5926": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "2020-06-18 11:28"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "2020-06-18 11:28"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "2020-06-18 11:28"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5927": {</span>
<span class="s">                "value": [</span>
<span class="s">                    {</span>
<span class="s">                        "id": 6314,</span>
<span class="s">                        "gid": "gid://skylark/Option/6314",</span>
<span class="s">                        "value": "渠道带访"</span>
<span class="s">                    }</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "渠道带访"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "渠道带访"</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "mapped_values": {</span>
<span class="s">            "customer_name": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "test"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "test"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "test"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "customer_phone": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "12345677654"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "12345677654"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "12345677654"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "planed_visit_time": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "2020-06-18 11:28"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "2020-06-18 11:28"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "2020-06-18 11:28"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "customer_source": {</span>
<span class="s">                "value": [</span>
<span class="s">                    {</span>
<span class="s">                        "id": 6314,</span>
<span class="s">                        "gid": "gid://skylark/Option/6314",</span>
<span class="s">                        "value": "渠道带访"</span>
<span class="s">                    }</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "渠道带访"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "渠道带访"</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "user": {</span>
<span class="s">            "id": 79,</span>
<span class="s">            "name": "樊翔宇",</span>
<span class="s">            "nickname": "左耳朵狗子",</span>
<span class="s">            "sex": 1,</span>
<span class="s">            "phone": "18828072450",</span>
<span class="s">            "identifier": "18828072450",</span>
<span class="s">            "openid": "oXDm5s2v7fnJ2Mut-UiiHtCEIb6Q",</span>
<span class="s">            "created_at": "2017-02-22T13:56:54.125+08:00",</span>
<span class="s">            "updated_at": "2020-06-29T15:50:23.090+08:00",</span>
<span class="s">            "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKFLWWPT1sSVywib8qpNNfLjMOliblYqa105ibCOKGvzwRV0vAEAlGLcwXkiclCaBcH9leucaTib6Hp95Q/96",</span>
<span class="s">            "tags": [],</span>
<span class="s">            "organizations": [</span>
<span class="s">                {</span>
<span class="s">                    "id": 582,</span>
<span class="s">                    "name": "lxx",</span>
<span class="s">                    "description": null,</span>
<span class="s">                    "created_at": "2020-04-08T11:43:40.789+08:00"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 478,</span>
<span class="s">                    "name": "aaaaaaaaaa",</span>
<span class="s">                    "description": "",</span>
<span class="s">                    "created_at": "2019-05-29T11:50:39.217+08:00"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 475,</span>
<span class="s">                    "name": "二级组织",</span>
<span class="s">                    "description": "",</span>
<span class="s">                    "created_at": "2019-05-28T17:11:55.970+08:00"</span>
<span class="s">                }</span>
<span class="s">            ],</span>
<span class="s">            "profile_submission": {</span>
<span class="s">                "entries": [</span>
<span class="s">                    {</span>
<span class="s">                        "id": 1091241,</span>
<span class="s">                        "field_id": 6035,</span>
<span class="s">                        "option_id": null,</span>
<span class="s">                        "value": "四川省-成都市-高新区-桂溪街办",</span>
<span class="s">                        "choice_id": 7650,</span>
<span class="s">                        "value_id": null,</span>
<span class="s">                        "latitude": null,</span>
<span class="s">                        "longitude": null,</span>
<span class="s">                        "group_id": null,</span>
<span class="s">                        "detail_id": null</span>
<span class="s">                    }</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "entries": [</span>
<span class="s">            {</span>
<span class="s">                "id": 1091207,</span>
<span class="s">                "field_id": 5927,</span>
<span class="s">                "option_id": 6314,</span>
<span class="s">                "value": "渠道带访",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091206,</span>
<span class="s">                "field_id": 5926,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "2020-06-18 11:28",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091205,</span>
<span class="s">                "field_id": 5925,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "12345677654",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091204,</span>
<span class="s">                "field_id": 5924,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "test",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            }</span>
<span class="s">        ]</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 71625,</span>
<span class="s">        "created_at": "2020-06-17T16:38:00.775+08:00",</span>
<span class="s">        "cached_values": {</span>
<span class="s">            "5924": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "zxl"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "zxl"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "zxl"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5925": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "12345678765"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "12345678765"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "12345678765"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5926": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "2020-06-17 16:37"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "2020-06-17 16:37"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "2020-06-17 16:37"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5927": {</span>
<span class="s">                "value": [</span>
<span class="s">                    {</span>
<span class="s">                        "id": 6316,</span>
<span class="s">                        "gid": "gid://skylark/Option/6316",</span>
<span class="s">                        "value": "电话预约"</span>
<span class="s">                    }</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "电话预约"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "电话预约"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "5928": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "未到访"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "未到访"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "未到访"</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "mapped_values": {</span>
<span class="s">            "customer_name": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "zxl"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "zxl"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "zxl"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "customer_phone": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "12345678765"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "12345678765"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "12345678765"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "planed_visit_time": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "2020-06-17 16:37"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "2020-06-17 16:37"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "2020-06-17 16:37"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "customer_source": {</span>
<span class="s">                "value": [</span>
<span class="s">                    {</span>
<span class="s">                        "id": 6316,</span>
<span class="s">                        "gid": "gid://skylark/Option/6316",</span>
<span class="s">                        "value": "电话预约"</span>
<span class="s">                    }</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "电话预约"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "电话预约"</span>
<span class="s">                ]</span>
<span class="s">            },</span>
<span class="s">            "arrive_visit": {</span>
<span class="s">                "value": [</span>
<span class="s">                    "未到访"</span>
<span class="s">                ],</span>
<span class="s">                "text_value": [</span>
<span class="s">                    "未到访"</span>
<span class="s">                ],</span>
<span class="s">                "exported_value": [</span>
<span class="s">                    "未到访"</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "user": {</span>
<span class="s">            "id": 1536,</span>
<span class="s">            "name": "希星李",</span>
<span class="s">            "nickname": "希希里图",</span>
<span class="s">            "sex": 1,</span>
<span class="s">            "phone": "18728190482",</span>
<span class="s">            "identifier": "18728190482",</span>
<span class="s">            "openid": null,</span>
<span class="s">            "created_at": "2020-04-08T11:28:36.020+08:00",</span>
<span class="s">            "updated_at": "2020-06-29T15:50:44.783+08:00",</span>
<span class="s">            "headimgurl": "/non-digested-assets/avatars/default_96.png",</span>
<span class="s">            "tags": [],</span>
<span class="s">            "organizations": [</span>
<span class="s">                {</span>
<span class="s">                    "id": 582,</span>
<span class="s">                    "name": "lxx",</span>
<span class="s">                    "description": null,</span>
<span class="s">                    "created_at": "2020-04-08T11:43:40.789+08:00"</span>
<span class="s">                },</span>
<span class="s">                {</span>
<span class="s">                    "id": 584,</span>
<span class="s">                    "name": "xxtest",</span>
<span class="s">                    "description": "&lt;p&gt;xxtest&lt;/p&gt;",</span>
<span class="s">                    "created_at": "2020-04-09T16:15:38.021+08:00"</span>
<span class="s">                }</span>
<span class="s">            ],</span>
<span class="s">            "profile_submission": {</span>
<span class="s">                "entries": []</span>
<span class="s">            }</span>
<span class="s">        },</span>
<span class="s">        "entries": [</span>
<span class="s">            {</span>
<span class="s">                "id": 1091199,</span>
<span class="s">                "field_id": 5928,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "未到访",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091198,</span>
<span class="s">                "field_id": 5927,</span>
<span class="s">                "option_id": 6316,</span>
<span class="s">                "value": "电话预约",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091197,</span>
<span class="s">                "field_id": 5926,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "2020-06-17 16:37",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091196,</span>
<span class="s">                "field_id": 5925,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "12345678765",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091195,</span>
<span class="s">                "field_id": 5924,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "zxl",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            }</span>
<span class="s">        ]</span>
<span class="s">    }</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/forms/:id/responses</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>表单 id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='cad1fb4d84'>单条表单数据</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/responses/1385?form=13</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
    "id": 1385,
    "created_at": "2020-08-04T11:23:00.571+08:00",
    "cached_values": {
        "2": {
            "value": [
                "15884559372"
            ],
            "text_value": [
                "15884559372"
            ],
            "exported_value": [
                "15884559372"
            ]
        },
        "4": {
            "value": [
                "杨女士"
            ],
            "text_value": [
                "杨女士"
            ],
            "exported_value": [
                "杨女士"
            ]
        },
        "5": {
            "value": [
                "12121212112"
            ],
            "text_value": [
                "12121212112"
            ],
            "exported_value": [
                "12121212112"
            ]
        },
        "6": {
            "value": [
                {
                    "id": 4,
                    "gid": "gid://skylark/Option/4",
                    "value": "女"
                }
            ],
            "text_value": [
                "女"
            ],
            "exported_value": [
                "女"
            ]
        },
        "7": {
            "value": [
                {
                    "id": 534,
                    "gid": "gid://skylark/Option/534",
                    "value": "小黄车"
                }
            ],
            "text_value": [
                "小黄车"
            ],
            "exported_value": [
                "小黄车"
            ]
        },
        "8": {
            "value": [
                {
                    "id": 13,
                    "gid": "gid://skylark/Option/13",
                    "value": "家庭自住"
                }
            ],
            "text_value": [
                "家庭自住"
            ],
            "exported_value": [
                "家庭自住"
            ]
        },
        "29": {
            "value": [
                {
                    "id": 62,
                    "gid": "gid://skylark/Option/62",
                    "value": "D无意向"
                }
            ],
            "text_value": [
                "D无意向"
            ],
            "exported_value": [
                "D无意向"
            ]
        },
        "71": {
            "value": [
                "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。"
            ],
            "text_value": [
                "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。"
            ],
            "exported_value": [
                "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。"
            ]
        },
        "72": {
            "value": [
                {
                    "id": 120,
                    "gid": "gid://skylark/Option/120",
                    "value": "51-60岁"
                }
            ],
            "text_value": [
                "51-60岁"
            ],
            "exported_value": [
                "51-60岁"
            ]
        },
        "75": {
            "value": [
                {
                    "id": 543,
                    "gid": "gid://skylark/Option/543",
                    "value": "总价61-70万"
                }
            ],
            "text_value": [
                "总价61-70万"
            ],
            "exported_value": [
                "总价61-70万"
            ]
        },
        "76": {
            "value": [
                {
                    "id": 126,
                    "gid": "gid://skylark/Option/126",
                    "value": "按揭"
                }
            ],
            "text_value": [
                "按揭"
            ],
            "exported_value": [
                "按揭"
            ]
        },
        "77": {
            "value": [
                {
                    "id": 128,
                    "gid": "gid://skylark/Option/128",
                    "value": "有"
                }
            ],
            "text_value": [
                "有"
            ],
            "exported_value": [
                "有"
            ]
        },
        "85": {
            "value": [
                "张朦檬"
            ],
            "text_value": [
                "张朦檬"
            ],
            "exported_value": [
                "张朦檬"
            ]
        },
        "152": {
            "value": [
                {
                    "id": 2483,
                    "gid": "gid://skylark/Choice/2483",
                    "value": "四川省-成都市-邛崃市"
                }
            ],
            "text_value": [
                "四川省-成都市-邛崃市"
            ],
            "exported_value": [
                [
                    "四川省",
                    "成都市",
                    "邛崃市"
                ]
            ]
        },
        "163": {
            "value": [
                {
                    "id": 484,
                    "gid": "gid://skylark/Option/484",
                    "value": "到访客户"
                }
            ],
            "text_value": [
                "到访客户"
            ],
            "exported_value": [
                "到访客户"
            ]
        },
        "321": {
            "value": [
                {
                    "id": 547,
                    "gid": "gid://skylark/Option/547",
                    "value": "平乐"
                }
            ],
            "text_value": [
                "平乐"
            ],
            "exported_value": [
                "平乐"
            ]
        },
        "322": {
            "value": [
                {
                    "id": 554,
                    "gid": "gid://skylark/Option/554",
                    "value": "区域"
                },
                {
                    "id": 555,
                    "gid": "gid://skylark/Option/555",
                    "value": "地段"
                },
                {
                    "id": 556,
                    "gid": "gid://skylark/Option/556",
                    "value": "户型"
                },
                {
                    "id": 557,
                    "gid": "gid://skylark/Option/557",
                    "value": "装修"
                },
                {
                    "id": 558,
                    "gid": "gid://skylark/Option/558",
                    "value": "价格"
                }
            ],
            "text_value": [
                "区域",
                "地段",
                "户型",
                "装修",
                "价格"
            ],
            "exported_value": [
                "区域，地段，户型，装修，价格"
            ]
        },
        "323": {
            "value": [
                {
                    "id": 563,
                    "gid": "gid://skylark/Option/563",
                    "value": "住宅1F"
                },
                {
                    "id": 564,
                    "gid": "gid://skylark/Option/564",
                    "value": "住宅2F"
                }
            ],
            "text_value": [
                "住宅1F",
                "住宅2F"
            ],
            "exported_value": [
                "住宅1F，住宅2F"
            ]
        },
        "423": {
            "value": [
                {
                    "id": 762,
                    "gid": "gid://skylark/Option/762",
                    "value": "否"
                }
            ],
            "text_value": [
                "否"
            ],
            "exported_value": [
                "否"
            ]
        }
    },
    "mapped_values": {
        "payment_method": {
            "value": [
                {
                    "id": 126,
                    "gid": "gid://skylark/Option/126",
                    "value": "按揭"
                }
            ],
            "text_value": [
                "按揭"
            ],
            "exported_value": [
                "按揭"
            ]
        },
        "saler_phone": {
            "value": [
                "12334566543"
            ],
            "text_value": [
                "12334566543"
            ],
            "exported_value": [
                "12334566543"
            ]
        },
        "customer_gender": {
            "value": [
                {
                    "id": 4,
                    "gid": "gid://skylark/Option/4",
                    "value": "女"
                }
            ],
            "text_value": [
                "女"
            ],
            "exported_value": [
                "女"
            ]
        },
        "customer_phone": {
            "value": [
                "12121212112"
            ],
            "text_value": [
                "12121212112"
            ],
            "exported_value": [
                "12121212112"
            ]
        },
        "customer_name": {
            "value": [
                "杨女士"
            ],
            "text_value": [
                "杨女士"
            ],
            "exported_value": [
                "杨女士"
            ]
        },
        "motivation": {
            "value": [
                {
                    "id": 13,
                    "gid": "gid://skylark/Option/13",
                    "value": "家庭自住"
                }
            ],
            "text_value": [
                "家庭自住"
            ],
            "exported_value": [
                "家庭自住"
            ]
        },
        "channel": {
            "value": [
                {
                    "id": 534,
                    "gid": "gid://skylark/Option/534",
                    "value": "小黄车"
                }
            ],
            "text_value": [
                "小黄车"
            ],
            "exported_value": [
                "小黄车"
            ]
        },
        "working_area": {
            "value": [
                {
                    "id": 2483,
                    "gid": "gid://skylark/Choice/2483",
                    "value": "四川省-成都市-邛崃市"
                }
            ],
            "text_value": [
                "四川省-成都市-邛崃市"
            ],
            "exported_value": [
                [
                    "四川省",
                    "成都市",
                    "邛崃市"
                ]
            ]
        },
        "age": {
            "value": [
                {
                    "id": 120,
                    "gid": "gid://skylark/Option/120",
                    "value": "51-60岁"
                }
            ],
            "text_value": [
                "51-60岁"
            ],
            "exported_value": [
                "51-60岁"
            ]
        },
        "saler": {
            "value": [
                "张朦檬"
            ],
            "text_value": [
                "张朦檬"
            ],
            "exported_value": [
                "张朦檬"
            ]
        },
        "intention": {
            "value": [
                {
                    "id": 62,
                    "gid": "gid://skylark/Option/62",
                    "value": "D无意向"
                }
            ],
            "text_value": [
                "D无意向"
            ],
            "exported_value": [
                "D无意向"
            ]
        },
        "living_area2": {
            "value": [
                {
                    "id": 547,
                    "gid": "gid://skylark/Option/547",
                    "value": "平乐"
                }
            ],
            "text_value": [
                "平乐"
            ],
            "exported_value": [
                "平乐"
            ]
        },
        "entitlement": {
            "value": [
                {
                    "id": 128,
                    "gid": "gid://skylark/Option/128",
                    "value": "有"
                }
            ],
            "text_value": [
                "有"
            ],
            "exported_value": [
                "有"
            ]
        },
        "remark": {
            "value": [
                "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。"
            ],
            "text_value": [
                "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。"
            ],
            "exported_value": [
                "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。"
            ]
        },
        "source": {
            "value": [
                {
                    "id": 484,
                    "gid": "gid://skylark/Option/484",
                    "value": "到访客户"
                }
            ],
            "text_value": [
                "到访客户"
            ],
            "exported_value": [
                "到访客户"
            ]
        },
        "customer_resistance": {
            "value": [
                {
                    "id": 554,
                    "gid": "gid://skylark/Option/554",
                    "value": "区域"
                },
                {
                    "id": 555,
                    "gid": "gid://skylark/Option/555",
                    "value": "地段"
                },
                {
                    "id": 556,
                    "gid": "gid://skylark/Option/556",
                    "value": "户型"
                },
                {
                    "id": 557,
                    "gid": "gid://skylark/Option/557",
                    "value": "装修"
                },
                {
                    "id": 558,
                    "gid": "gid://skylark/Option/558",
                    "value": "价格"
                }
            ],
            "text_value": [
                "区域",
                "地段",
                "户型",
                "装修",
                "价格"
            ],
            "exported_value": [
                "区域，地段，户型，装修，价格"
            ]
        },
        "preferred_apartment": {
            "value": [
                {
                    "id": 563,
                    "gid": "gid://skylark/Option/563",
                    "value": "住宅1F"
                },
                {
                    "id": 564,
                    "gid": "gid://skylark/Option/564",
                    "value": "住宅2F"
                }
            ],
            "text_value": [
                "住宅1F",
                "住宅2F"
            ],
            "exported_value": [
                "住宅1F，住宅2F"
            ]
        },
        "price_range": {
            "value": [
                {
                    "id": 543,
                    "gid": "gid://skylark/Option/543",
                    "value": "总价61-70万"
                }
            ],
            "text_value": [
                "总价61-70万"
            ],
            "exported_value": [
                "总价61-70万"
            ]
        },
        "line_card": {
            "value": [
                {
                    "id": 762,
                    "gid": "gid://skylark/Option/762",
                    "value": "否"
                }
            ],
            "text_value": [
                "否"
            ],
            "exported_value": [
                "否"
            ]
        }
    },
    "involved_user_ids": [],
    "involved_organization_ids": [],
    "entries": [
        {
            "id": 10584,
            "field_id": 423,
            "option_id": 762,
            "value": "否",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10583,
            "field_id": 163,
            "option_id": 484,
            "value": "到访客户",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10180,
            "field_id": 2,
            "option_id": null,
            "value": "15884559372",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10179,
            "field_id": 85,
            "option_id": null,
            "value": "张朦檬",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10178,
            "field_id": 321,
            "option_id": 547,
            "value": "平乐",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10177,
            "field_id": 152,
            "option_id": null,
            "value": "四川省-成都市-邛崃市",
            "choice_id": 2483,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10176,
            "field_id": 322,
            "option_id": 558,
            "value": "价格",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10175,
            "field_id": 322,
            "option_id": 557,
            "value": "装修",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10174,
            "field_id": 322,
            "option_id": 555,
            "value": "地段",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10173,
            "field_id": 322,
            "option_id": 556,
            "value": "户型",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10172,
            "field_id": 322,
            "option_id": 554,
            "value": "区域",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10171,
            "field_id": 76,
            "option_id": 126,
            "value": "按揭",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10170,
            "field_id": 75,
            "option_id": 543,
            "value": "总价61-70万",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10169,
            "field_id": 323,
            "option_id": 563,
            "value": "住宅1F",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10168,
            "field_id": 323,
            "option_id": 564,
            "value": "住宅2F",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10167,
            "field_id": 8,
            "option_id": 13,
            "value": "家庭自住",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10166,
            "field_id": 7,
            "option_id": 534,
            "value": "小黄车",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10165,
            "field_id": 29,
            "option_id": 62,
            "value": "D无意向",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10164,
            "field_id": 77,
            "option_id": 128,
            "value": "有",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10163,
            "field_id": 72,
            "option_id": 120,
            "value": "51-60岁",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10162,
            "field_id": 71,
            "option_id": null,
            "value": "一个人到访，说的是给娃娃看房，娃娃在成都工作，然后在外面看了下环境就想走，进来给她讲户型也不是很感兴趣，然后就要慌到走。",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10161,
            "field_id": 6,
            "option_id": 4,
            "value": "女",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10160,
            "field_id": 5,
            "option_id": null,
            "value": "12121212112",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 10159,
            "field_id": 4,
            "option_id": null,
            "value": "杨女士",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        }
    ],
    "user": {
        "id": 75,
        "name": "张朦檬",
        "nickname": "Smile",
        "sex": 2,
        "phone": "15884559372",
        "identifier": "15884559372",
        "openid": "ouvMN1qTZ_ucaufm5HFI26w_Q43A",
        "created_at": "2020-07-03T10:17:37.855+08:00",
        "updated_at": "2020-07-03T11:13:04.931+08:00",
        "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/AAlQYG92O3xBbrZniaa6uv6ex5wTeUyllIKYu7zWwrqrCvoL9jCuic21P7sGR52r1WjgsCxMic5kSzwiahz5JClxbQ/96",
        "tags": [
            {
                "id": 2,
                "name": "magnate_saler"
            },
            {
                "id": 1,
                "name": "magnate_admin"
            }
        ],
        "organizations": [
            {
                "id": 8,
                "name": "销售",
                "description": "",
                "created_at": "2020-07-03T10:17:02.093+08:00"
            }
        ]
    }
}

</code></pre>
<p><code>GET /api/v4/responses/:dataID</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>dataID</td>
<td>integer</td>
<td>数据 id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='9244b98e91'>创建表单填写记录</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/forms/:form_id/responses</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

body中传入:
{
    "response": {
        "entries_attributes": [
            {
                "field_id": 5888,
                "value": "zxl"
            },
            {
                "field_id": 5890,
                "value": "12345677654"
            }
        ]
    },
    "user_id": "690"
}
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 71657,</span>
<span class="s">    "created_at": "2020-07-06T14:30:57.219+08:00",</span>
<span class="s">    "cached_values": {</span>
<span class="s">        "5888": {</span>
<span class="s">            "value": [</span>
<span class="s">                "zxl"</span>
<span class="s">            ],</span>
<span class="s">            "text_value": [</span>
<span class="s">                "zxl"</span>
<span class="s">            ],</span>
<span class="s">            "exported_value": [</span>
<span class="s">                "zxl"</span>
<span class="s">            ]</span>
<span class="s">        },</span>
<span class="s">        "5890": {</span>
<span class="s">            "value": [</span>
<span class="s">                "12345677654"</span>
<span class="s">            ],</span>
<span class="s">            "text_value": [</span>
<span class="s">                "12345677654"</span>
<span class="s">            ],</span>
<span class="s">            "exported_value": [</span>
<span class="s">                "12345677654"</span>
<span class="s">            ]</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "mapped_values": {</span>
<span class="s">        "customer_phone": {</span>
<span class="s">            "value": [</span>
<span class="s">                "zxl"</span>
<span class="s">            ],</span>
<span class="s">            "text_value": [</span>
<span class="s">                "zxl"</span>
<span class="s">            ],</span>
<span class="s">            "exported_value": [</span>
<span class="s">                "zxl"</span>
<span class="s">            ]</span>
<span class="s">        },</span>
<span class="s">        "is_new": {</span>
<span class="s">            "value": [</span>
<span class="s">                "12345677654"</span>
<span class="s">            ],</span>
<span class="s">            "text_value": [</span>
<span class="s">                "12345677654"</span>
<span class="s">            ],</span>
<span class="s">            "exported_value": [</span>
<span class="s">                "12345677654"</span>
<span class="s">            ]</span>
<span class="s">        }</span>
<span class="s">    },</span>
<span class="s">    "involved_user_ids": [],</span>
<span class="s">    "involved_organization_ids": [],</span>
<span class="s">    "entries": [</span>
<span class="s">        {</span>
<span class="s">            "id": 1091336,</span>
<span class="s">            "field_id": 5888,</span>
<span class="s">            "option_id": null,</span>
<span class="s">            "value": "zxl",</span>
<span class="s">            "choice_id": null,</span>
<span class="s">            "value_id": null,</span>
<span class="s">            "latitude": null,</span>
<span class="s">            "longitude": null,</span>
<span class="s">            "group_id": null,</span>
<span class="s">            "detail_id": null</span>
<span class="s">        },</span>
<span class="s">        {</span>
<span class="s">            "id": 1091337,</span>
<span class="s">            "field_id": 5890,</span>
<span class="s">            "option_id": null,</span>
<span class="s">            "value": "12345677654",</span>
<span class="s">            "choice_id": null,</span>
<span class="s">            "value_id": null,</span>
<span class="s">            "latitude": null,</span>
<span class="s">            "longitude": null,</span>
<span class="s">            "group_id": null,</span>
<span class="s">            "detail_id": null</span>
<span class="s">        }</span>
<span class="s">    ],</span>
<span class="s">    "user": {</span>
<span class="s">        "id": 690,</span>
<span class="s">        "name": "zxl",</span>
<span class="s">        "nickname": "贤独丨🤺",</span>
<span class="s">        "sex": 1,</span>
<span class="s">        "phone": "12345677654",</span>
<span class="s">        "identifier": "12345677654",</span>
<span class="s">        "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",</span>
<span class="s">        "created_at": "2019-12-30T11:20:05.128+08:00",</span>
<span class="s">        "updated_at": "2020-07-06T11:07:48.147+08:00",</span>
<span class="s">        "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ/96",</span>
<span class="s">        "tags": [],</span>
<span class="s">        "organizations": [],</span>
<span class="s">        "profile_submission": {</span>
<span class="s">            "entries": []</span>
<span class="s">        }</span>
<span class="s">    }</span>
<span class="s">}</span>
</code></pre>
<p><code>POST /api/v4/forms/:form_id/responses</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>form_id</td>
<td>integer</td>
<td>表单 id</td>
<td></td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>选项 id</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>选项值</td>
<td></td>
</tr>
<tr>
<td>user_id</td>
<td>integer</td>
<td>用户 id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='cf789bca7a'>修改表单填写记录</h2><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v4/forms/:form_id/responses/:id</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

body中：
{
    "response": {
        "entries_attributes": [
            {
                "id": 1091336,
                "value": "zxl"
            },
            {
                "id": 1091337,
                "value": "111"
            }
        ]
    }
}


{
    "id": 71657,
    "created_at": "2020-07-06T14:30:57.219+08:00",
    "cached_values": {
        "5888": {
            "value": [
                "12121"
            ],
            "text_value": [
                "12121"
            ],
            "exported_value": [
                "12121"
            ]
        },
        "5890": {
            "value": [
                "124534"
            ],
            "text_value": [
                "124534"
            ],
            "exported_value": [
                "124534"
            ]
        }
    },
    "mapped_values": {
        "customer_phone": {
            "value": [
                "12121"
            ],
            "text_value": [
                "12121"
            ],
            "exported_value": [
                "12121"
            ]
        },
        "is_new": {
            "value": [
                "124534"
            ],
            "text_value": [
                "124534"
            ],
            "exported_value": [
                "124534"
            ]
        }
    },
    "involved_user_ids": [],
    "involved_organization_ids": [],
    "entries": [
        {
            "id": 1091336,
            "field_id": 5888,
            "option_id": null,
            "value": "12121",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        },
        {
            "id": 1091337,
            "field_id": 5890,
            "option_id": null,
            "value": "124534",
            "choice_id": null,
            "value_id": null,
            "latitude": null,
            "longitude": null,
            "group_id": null,
            "detail_id": null
        }
    ],
    "user": {
        "id": 690,
        "name": "zxl",
        "nickname": "贤独丨🤺",
        "sex": 1,
        "phone": "12345677654",
        "identifier": "12345677654",
        "openid": "oXDm5s0XDReFEqbMcAddC_CQGrNY",
        "created_at": "2019-12-30T11:20:05.128+08:00",
        "updated_at": "2020-07-06T11:07:48.147+08:00",
        "headimgurl": "http://thirdwx.qlogo.cn/mmopen/vi_32/KU6FI52PPicLT6iaZ88S49btibcTic2OcnSg4gObibYyxc92giafHRwjpNgaPZKRiaRGt47sdoulxO3fqzdn69EjmyTwQ/96",
        "tags": [],
        "organizations": [],
        "profile_submission": {
            "entries": []
        }
    }
}
</code></pre>
<p><code>PUT /api/v4/forms/:form_id/responses/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>:form_id</td>
<td>integer</td>
<td>表单 id</td>
<td></td>
</tr>
<tr>
<td>:id</td>
<td>integer</td>
<td>修改用数据 id</td>
<td></td>
</tr>
<tr>
<td>:field_id</td>
<td>integer</td>
<td>如果没有值则则用 field_id</td>
<td></td>
</tr>
</tbody></table>
<h1 id='organizations'>Organizations</h1><h2 id='cb9cf88fe7'>所有组织</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/organizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-SLP-Current-Page</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Pages</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Count</span><span class="p">:</span> <span class="s">4</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 14516,</span>
<span class="s">    "name": "第一个组织",</span>
<span class="s">    "description": "您可以根据需要更改名字及描述，或者删除组织",</span>
<span class="s">    "description_text": "您可以根据需要更改名字及描述，或者删除组织",</span>
<span class="s">    "created_at": "2017-12-25T16:06:13.111+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:00:49.663+08:00",</span>
<span class="s">    "children_count": 2,</span>
<span class="s">    "parent_id": null,</span>
<span class="s">    "ancestry": null</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 15113,</span>
<span class="s">    "name": "组织_a",</span>
<span class="s">    "description": "",</span>
<span class="s">    "description_text": "",</span>
<span class="s">    "created_at": "2018-08-14T10:00:29.691+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:00:40.625+08:00",</span>
<span class="s">    "children_count": 1,</span>
<span class="s">    "parent_id": 14516,</span>
<span class="s">    "ancestry": "14516"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 15114,</span>
<span class="s">    "name": "组织_a_a",</span>
<span class="s">    "description": "",</span>
<span class="s">    "description_text": "",</span>
<span class="s">    "created_at": "2018-08-14T10:00:40.624+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:00:40.624+08:00",</span>
<span class="s">    "children_count": 0,</span>
<span class="s">    "parent_id": 15113,</span>
<span class="s">    "ancestry": "14516/15113"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 15115,</span>
<span class="s">    "name": "组织_b",</span>
<span class="s">    "description": "",</span>
<span class="s">    "description_text": "",</span>
<span class="s">    "created_at": "2018-08-14T10:00:49.660+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:00:49.660+08:00",</span>
<span class="s">    "children_count": 0,</span>
<span class="s">    "parent_id": 14516,</span>
<span class="s">    "ancestry": "14516"</span>
<span class="s">  }</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/organizations</code></p>

<p><strong>Parameters</strong></p>

<ul>
<li>  None</li>
</ul>
<h2 id='c8c51b76c7'>顶级组织</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/organizations/roots</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-SLP-Current-Page</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Pages</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Count</span><span class="p">:</span> <span class="s">1</span>

[
  {
    "id": 14516,
    "name": "第一个组织",
    "description": "您可以根据需要更改名字及描述，或者删除组织",
    "description_text": "您可以根据需要更改名字及描述，或者删除组织",
    "created_at": "2017-12-25T16:06:13.111+08:00",
    "updated_at": "2018-08-14T10:00:49.663+08:00",
    "children_count": 2,
    "parent_id": null,
    "ancestry": null
  }
]

</code></pre>
<p><code>GET /api/v4/organizations/roots</code></p>

<p><strong>Parameters</strong></p>

<ul>
<li>  None</li>
</ul>
<h2 id='cda11de7f2'>子代组织</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/organizations/15113/children</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-SLP-Current-Page</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Pages</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Count</span><span class="p">:</span> <span class="s">2</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 15113,</span>
<span class="s">    "name": "组织_a",</span>
<span class="s">    "description": "",</span>
<span class="s">    "description_text": "",</span>
<span class="s">    "created_at": "2018-08-14T10:00:29.691+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:00:40.625+08:00",</span>
<span class="s">    "children_count": 1,</span>
<span class="s">    "parent_id": 14516,</span>
<span class="s">    "ancestry": "14516"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 15115,</span>
<span class="s">    "name": "组织_b",</span>
<span class="s">    "description": "",</span>
<span class="s">    "description_text": "",</span>
<span class="s">    "created_at": "2018-08-14T10:00:49.660+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:00:49.660+08:00",</span>
<span class="s">    "children_count": 0,</span>
<span class="s">    "parent_id": 14516,</span>
<span class="s">    "ancestry": "14516"</span>
<span class="s">  }</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/organizations/:id/children</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>父级组织id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='02e4569f06'>组织成员</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/organizations/127059/members</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-SLP-Current-Page</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Pages</span><span class="p">:</span> <span class="s">1</span>
<span class="na">X-SLP-Total-Count</span><span class="p">:</span> <span class="s">3</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 127059,</span>
<span class="s">    "name": "user_a",</span>
<span class="s">    "nickname": null,</span>
<span class="s">    "sex": null,</span>
<span class="s">    "phone": null,</span>
<span class="s">    "identifier": "user_a",</span>
<span class="s">    "openid": null,</span>
<span class="s">    "created_at": "2018-08-14T10:10:19.434+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:10:19.434+08:00",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default_96.png"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 127060,</span>
<span class="s">    "name": "user_b",</span>
<span class="s">    "nickname": null,</span>
<span class="s">    "sex": null,</span>
<span class="s">    "phone": null,</span>
<span class="s">    "identifier": "user_b",</span>
<span class="s">    "openid": null,</span>
<span class="s">    "created_at": "2018-08-14T10:10:24.671+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:10:24.671+08:00",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default_96.png"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 127061,</span>
<span class="s">    "name": "user_c",</span>
<span class="s">    "nickname": null,</span>
<span class="s">    "sex": null,</span>
<span class="s">    "phone": null,</span>
<span class="s">    "identifier": "user_c",</span>
<span class="s">    "openid": null,</span>
<span class="s">    "created_at": "2018-08-14T10:10:29.831+08:00",</span>
<span class="s">    "updated_at": "2018-08-14T10:10:29.831+08:00",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default_96.png"</span>
<span class="s">  }</span>
<span class="s">]</span>

</code></pre>
<p><code>GET /api/v4/organizations/:id/members</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>组织id</td>
<td></td>
</tr>
<tr>
<td>with_descendants</td>
<td>string</td>
<td>Optional 传任意值，代表包含子孙后代组织的成员</td>
<td></td>
</tr>
</tbody></table>
<h2 id='92cfa6d383'>创建组织</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/organizations/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "name": "name",</span>
<span class="s">  "description": "description",</span>
<span class="s">  "application_strategy": "must_approved",</span>
<span class="s">  "founder_id": 3,</span>
<span class="s">  "patent_id": 13</span>
<span class="s">}</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "id": 25,</span>
<span class="s">  "name": "name",</span>
<span class="s">  "description": "description",</span>
<span class="s">  "description_text": "description",</span>
<span class="s">  "created_at": "2018-12-06T10:35:35.203+08:00",</span>
<span class="s">  "updated_at": "2018-12-06T10:35:35.203+08:00",</span>
<span class="s">  "children_count": 0,</span>
<span class="s">  "parent_id": "13",</span>
<span class="s">  "ancestry": "abc",</span>
<span class="s">  "application_strategy": "must_approved"</span>
<span class="s">}</span>

</code></pre>
<p><code>POST /api/v4/organizations/</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>描述</td>
<td></td>
</tr>
<tr>
<td>application_strategy</td>
<td>string</td>
<td>审核状态</td>
<td>[:must_approved, :auto_approved, :closed]</td>
</tr>
<tr>
<td>founder_id</td>
<td>integer</td>
<td>创建者id</td>
<td></td>
</tr>
<tr>
<td>patent_id</td>
<td>integer</td>
<td>父级组织id</td>
<td>创建顶级组织时不需要</td>
</tr>
</tbody></table>
<h2 id='66dd10a168'>创建组织成员</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/organizations/20/members</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jack"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jack_123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10086100101"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "id": 20,</span>
<span class="s">  "name": "jack",</span>
<span class="s">  "nickname": null,</span>
<span class="s">  "sex": null,</span>
<span class="s">  "phone": "10086100101",</span>
<span class="s">  "identifier": "jack_123",</span>
<span class="s">  "openid": null,</span>
<span class="s">  "created_at": "2018-12-06T10:54:34.901+08:00",</span>
<span class="s">  "updated_at": "2018-12-06T10:54:34.901+08:00"</span>
<span class="s">}</span>

</code></pre>
<p><code>POST /api/v4/organizations/</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
<td></td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>识别码</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>电话号码</td>
<td></td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>组织id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='9a7ba01224'>获取组织成员</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/organizations/:id/members</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="err">HTTP/1.1 201 
[   
  {
        "id": 527,
        "name": "jackdfsff",
        "nickname": null,
        "sex": null,
        "phone": "10086100101",
        "identifier": "jack_123_1",
        "openid": null,
        "created_at": "2019-05-15T15:42:23.836+08:00",
        "updated_at": "2019-05-15T15:42:23.836+08:00",
        "headimgurl": "/non-digested-assets/avatars/default_96.png"
    },
    {
        "id": 528,
        "name": "jackdfsff",
        "nickname": null,
        "sex": null,
        "phone": null,
        "identifier": "jack_123_1_1",
        "openid": null,
        "created_at": "2019-05-15T15:42:39.467+08:00",
        "updated_at": "2019-05-15T15:42:39.467+08:00",
        "headimgurl": "/non-digested-assets/avatars/default_96.png"
    }
]

</span></code></pre>
<p><code>GET /api/v4/organizations/:id/members</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>组织id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='cc03e92ff4'>多人加入组织</h2><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v4/organizations/:organization_id/members/add</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

{
    "member_ids": []
}
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>


</code></pre>
<p><code>PUT /api/v4/organizations/:organization_id/members/add</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>组织id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='5704a077be'>移除多个成员</h2><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v4/organizations/:organization_id/members/remove</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

{
    "member_ids": []
}
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

</code></pre>
<p><code>PUT /api/v4/organizations/:organization_id/members/add</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>组织id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='be89d6b874'>更新组织成员信息</h2><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v4/organizations/:organization_id/members/:id</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
    "id": 1558,
    "name": "zxlzxl",
    "nickname": null,
    "sex": null,
    "phone": "15883535410",
    "identifier": "zxlll",
    "openid": null,
    "created_at": "2020-07-13T10:04:41.836+08:00",
    "updated_at": "2020-07-13T10:21:08.843+08:00"
}
</code></pre>
<p><code>PUT /api/v4/organizations/:organization_id/members/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>组织id</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>成员id</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>integer</td>
<td>电话</td>
<td></td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>识别码</td>
<td></td>
</tr>
</tbody></table>
<h2 id='2a26dc7cab'>搜索组织</h2><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v4/organizations/query</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>


</code></pre>
<p><code>PUT /api/v4/organizations/query</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
</tbody></table>
<h2 id='post'>POST请求（作用待定）</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/posts</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

{
  post:{
    :title, :html_body, :status, :enable_appendable,:published_as_id, :namecard_id, :comment_status,:tag_ids, 
    { tag_ids: [] }, :cloned_from_id, :author_id,:attachment_ids, { attachment_ids: [] },
    red_packet_setting_attributes: Messageable::RedPacketable::RED_PACKET_SETTING_PARAMS,
    user_boundary_attributes: Messageable::Overlord::USER_BOUNDARY_PARAMS,
    push_agent_on_publish_attributes: Pushable::PUSH_AGENT_PARAMS
    }
}
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>


</code></pre>
<p><code>POST /api/v4/posts</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
</tbody></table>
<h2 id='8f3d71018a'>移除未绑定成员</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/settings/remove_suspended_members</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

</code></pre>
<p><code>POST /api/v4/settings/remove_suspended_members</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
</tbody></table>
<h1 id='pushes'>Pushes</h1><h2 id='14a8535075'>微信推送</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/pushes/wechat</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "title":"Happy Day",</span>
<span class="s">  "description":"Is Really A Happy Day",</span>
<span class="s">  "url":"URL",</span>
<span class="s">  "picurl":"PIC_URL"</span>
<span class="s">}</span>

</code></pre><h3 id='news_entity'>news_entity 结构</h3>
<p>结构固定，以下4个key都是必须的，具体意思参考微信<a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421140547">微信客服消息</a></p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "template_id": "7L5ZG7D0VtqOnKp07bskkJ7XA7veVqIO2VYeY3aYLtY",</span>
<span class="s">  "url": "http://weixin.qq.com/download",</span>
<span class="s">  "data": {</span>
<span class="s">    "first": {</span>
<span class="s">      "value": "恭喜你购买成功！",</span>
<span class="s">      "color": "#173177"</span>
<span class="s">    },</span>
<span class="s">    "keyword1": {</span>
<span class="s">      "value": "巧克力",</span>
<span class="s">      "color": "#173177"</span>
<span class="s">    },</span>
<span class="s">    "keyword2": {</span>
<span class="s">      "value": "39.8元",</span>
<span class="s">      "color": "#173177"</span>
<span class="s">    },</span>
<span class="s">    "remark": {</span>
<span class="s">      "value": "欢迎再次购买！",</span>
<span class="s">      "color": "#173177"</span>
<span class="s">    }</span>
<span class="s">  }</span>
<span class="s">}</span>

</code></pre><h3 id='template_entity'>template_entity 结构</h3>
<p>结构固定，但data的实际结构会根据模板而改变，具体意思参考<a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421140547">微信客服消息</a></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>openids</td>
<td>Array</td>
<td>Required 接收用户的openid的集合</td>
</tr>
<tr>
<td>news_entity</td>
<td>Object</td>
<td><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421140547">微信客服消息</a></td>
</tr>
<tr>
<td>template_entity</td>
<td>Object</td>
<td><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421140547">微信客服消息</a></td>
</tr>
</tbody></table>

<p><code>news_entity</code>、<code>template_entity</code> 两者必须有一个。如果都存在，微信推送会先尝试客服消息，当客服消息失败时，再尝试模板消息</p>
<h3 id='response'>Response</h3>
<p><code>Status: 200 OK</code></p>

<p><strong>no body</strong></p>
<h1 id='tags'>Tags</h1><h2 id='61fbf3a18b'>查询空间下标签类型</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/tags</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
<span class="s">{</span>
<span class="s">  "type": "user"</span>
<span class="s">}</span>
<span class="s">or</span>
<span class="s">{</span>
<span class="s">  "type": "receipt"</span>
<span class="s">}</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "歌手",</span>
<span class="s">    "full_name": "歌手"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "演员",</span>
<span class="s">    "full_name": "演员"</span>
<span class="s">  }</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/tags</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>标签类型</td>
<td></td>
</tr>
</tbody></table>
<h2 id='faa1b8a715'>更新成员标签</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/users/:id/tag</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>


</code></pre>
<p><code>POST /api/v4/users/:id/tag</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>用户id</td>
<td></td>
</tr>
<tr>
<td>add_tag_ids</td>
<td>Array</td>
<td>新增的标签</td>
<td></td>
</tr>
<tr>
<td>remove_tag_ids</td>
<td>Array</td>
<td>删除的标签</td>
<td></td>
</tr>
</tbody></table>
<h2 id='4ba44bc588'>查询成员标签下的成员</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/tags/1/taggable_users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "第一个管理员",</span>
<span class="s">    "nickname": "",</span>
<span class="s">    "phone": "1111111111",</span>
<span class="s">    "identifier": "1111111111",</span>
<span class="s">    "qq": "123",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">    "openid": "123",</span>
<span class="s">    "imported_alias": "第一个管理员",</span>
<span class="s">    "from_wechat": false,</span>
<span class="s">    "tags": [{</span>
<span class="s">      "id": 1,</span>
<span class="s">      "name": "b1",</span>
<span class="s">      "full_name": "bq-b1",</span>
<span class="s">      "color": "#e91e63",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 9</span>
<span class="s">    }, {</span>
<span class="s">      "id": 3,</span>
<span class="s">      "name": "a1",</span>
<span class="s">      "full_name": "a1",</span>
<span class="s">      "color": "#ff5722",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 4</span>
<span class="s">    }, {</span>
<span class="s">      "id": 8,</span>
<span class="s">      "name": "a2",</span>
<span class="s">      "full_name": "a2",</span>
<span class="s">      "color": "#673ab7",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 1</span>
<span class="s">    }</span>
<span class="s">    },</span>
<span class="s">  {</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "第二个管理员",</span>
<span class="s">    "nickname": "",</span>
<span class="s">    "phone": "12222222222",</span>
<span class="s">    "identifier": "12222222222",</span>
<span class="s">    "qq": "123",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">    "openid": "123",</span>
<span class="s">    "imported_alias": "第一个管理员",</span>
<span class="s">    "from_wechat": false,</span>
<span class="s">    "tags": [{</span>
<span class="s">      "id": 1,</span>
<span class="s">      "name": "b1",</span>
<span class="s">      "full_name": "bq-b1",</span>
<span class="s">      "color": "#e91e63",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 9</span>
<span class="s">    }, {</span>
<span class="s">      "id": 3,</span>
<span class="s">      "name": "a1",</span>
<span class="s">      "full_name": "a1",</span>
<span class="s">      "color": "#ff5722",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 4</span>
<span class="s">    }, {</span>
<span class="s">      "id": 8,</span>
<span class="s">      "name": "a2",</span>
<span class="s">      "full_name": "a2",</span>
<span class="s">      "color": "#673ab7",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 1</span>
<span class="s">    }</span>
<span class="s">  }</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/tags/:id/taggable_users</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>标签id</td>
<td></td>
</tr>
</tbody></table>
<h1 id='users'>Users</h1><h2 id='c874682816'>查询当前空间下所有用户</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "第一个管理员",</span>
<span class="s">    "nickname": "",</span>
<span class="s">    "phone": "1111111111",</span>
<span class="s">    "identifier": "1111111111",</span>
<span class="s">    "qq": "123",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">    "openid": "123",</span>
<span class="s">    "imported_alias": "第一个管理员",</span>
<span class="s">    "from_wechat": false,</span>
<span class="s">    "tags": [{</span>
<span class="s">      "id": 1,</span>
<span class="s">      "name": "b1",</span>
<span class="s">      "full_name": "bq-b1",</span>
<span class="s">      "color": "#e91e63",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 9</span>
<span class="s">    }, {</span>
<span class="s">      "id": 3,</span>
<span class="s">      "name": "a1",</span>
<span class="s">      "full_name": "a1",</span>
<span class="s">      "color": "#ff5722",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 4</span>
<span class="s">    }, {</span>
<span class="s">      "id": 8,</span>
<span class="s">      "name": "a2",</span>
<span class="s">      "full_name": "a2",</span>
<span class="s">      "color": "#673ab7",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 1</span>
<span class="s">    }</span>
<span class="s">    },</span>
<span class="s">  {</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "第二个管理员",</span>
<span class="s">    "nickname": "",</span>
<span class="s">    "phone": "12222222222",</span>
<span class="s">    "identifier": "12222222222",</span>
<span class="s">    "qq": "123",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">    "openid": "123",</span>
<span class="s">    "imported_alias": "第一个管理员",</span>
<span class="s">    "from_wechat": false,</span>
<span class="s">    "tags": [{</span>
<span class="s">      "id": 1,</span>
<span class="s">      "name": "b1",</span>
<span class="s">      "full_name": "bq-b1",</span>
<span class="s">      "color": "#e91e63",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 9</span>
<span class="s">    }, {</span>
<span class="s">      "id": 3,</span>
<span class="s">      "name": "a1",</span>
<span class="s">      "full_name": "a1",</span>
<span class="s">      "color": "#ff5722",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 4</span>
<span class="s">    }, {</span>
<span class="s">      "id": 8,</span>
<span class="s">      "name": "a2",</span>
<span class="s">      "full_name": "a2",</span>
<span class="s">      "color": "#673ab7",</span>
<span class="s">      "tag_group_id": 1,</span>
<span class="s">      "taggings_count": 1</span>
<span class="s">    }</span>
<span class="s">  }</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/users</code></p>
<h2 id='6d47866b22'>所在组织</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/users/14473/organizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
<span class="s">{</span>
<span class="s">  "name": "name",</span>
<span class="s">  "description": "description",</span>
<span class="s">  "application_strategy": "must_approved",</span>
<span class="s">  "founder_id": 3,</span>
<span class="s">  "patent_id": 13</span>
<span class="s">}</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">[</span>
<span class="s">  {</span>
<span class="s">    "id": 14473,</span>
<span class="s">    "name": "child_1",</span>
<span class="s">    "description": "",</span>
<span class="s">    "description_text": "",</span>
<span class="s">    "created_at": "2017-04-18T16:33:07.408+08:00",</span>
<span class="s">    "updated_at": "2017-12-06T17:52:27.556+08:00",</span>
<span class="s">    "children_count": 1,</span>
<span class="s">    "parent_id": 14472,</span>
<span class="s">    "ancestry": "14472"</span>
<span class="s">  },</span>
<span class="s">  {</span>
<span class="s">    "id": 1935,</span>
<span class="s">    "name": "测试组织",</span>
<span class="s">    "description": "&lt;p&gt;aaa&lt;/p&gt;",</span>
<span class="s">    "description_text": "aaa",</span>
<span class="s">    "created_at": "2015-05-25T15:58:45.083+08:00",</span>
<span class="s">    "updated_at": "2018-04-06T15:37:24.712+08:00",</span>
<span class="s">    "children_count": 2,</span>
<span class="s">    "parent_id": null,</span>
<span class="s">    "ancestry": null</span>
<span class="s">  },</span>
<span class="s">  ...</span>
<span class="s">]</span>
</code></pre>
<p><code>GET /api/v4/users/:id/organizations</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>用户id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='b6bb36669d'>查询用户信息</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/users/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>

</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "id": 1,</span>
<span class="s">  "name": "第一个管理员",</span>
<span class="s">  "nickname": "",</span>
<span class="s">  "phone": "1111111111",</span>
<span class="s">  "identifier": "1111111111",</span>
<span class="s">  "qq": "123",</span>
<span class="s">  "headimgurl": "/non-digested-assets/avatars/default.png",</span>
<span class="s">  "openid": "123",</span>
<span class="s">  "imported_alias": "第一个管理员",</span>
<span class="s">  "from_wechat": false,</span>
<span class="s">  "tags": [{</span>
<span class="s">    "id": 1,</span>
<span class="s">    "name": "b1",</span>
<span class="s">    "full_name": "bq-b1",</span>
<span class="s">    "color": "#e91e63",</span>
<span class="s">    "tag_group_id": 1,</span>
<span class="s">    "taggings_count": 9</span>
<span class="s">  }, {</span>
<span class="s">    "id": 3,</span>
<span class="s">    "name": "a1",</span>
<span class="s">    "full_name": "a1",</span>
<span class="s">    "color": "#ff5722",</span>
<span class="s">    "tag_group_id": 1,</span>
<span class="s">    "taggings_count": 4</span>
<span class="s">  }, {</span>
<span class="s">    "id": 8,</span>
<span class="s">    "name": "a2",</span>
<span class="s">    "full_name": "a2",</span>
<span class="s">    "color": "#673ab7",</span>
<span class="s">    "tag_group_id": 1,</span>
<span class="s">    "taggings_count": 1</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/users/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>用户id</td>
<td></td>
</tr>
</tbody></table>
<h2 id='b079ad25f0'>新建用户信息</h2><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v4/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 115,</span>
<span class="s">    "name": "zxl",</span>
<span class="s">    "nickname": null,</span>
<span class="s">    "sex": null,</span>
<span class="s">    "phone": "11011011011",</span>
<span class="s">    "identifier": "77777",</span>
<span class="s">    "openid": null,</span>
<span class="s">    "created_at": "2020-06-19T14:52:48.240+08:00",</span>
<span class="s">    "updated_at": "2020-06-19T14:52:48.240+08:00",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default_96.png",</span>
<span class="s">    "tags": [],</span>
<span class="s">    "organizations": []</span>
<span class="s">}</span>
</code></pre>
<p><code>POST /api/v4/users</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
<td></td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>识别码</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>integer</td>
<td>手机号</td>
<td></td>
</tr>
</tbody></table>
<h2 id='2e536466d5'>更新用户信息</h2>
<p>自定义字段：先在 空间设置--&gt;用户属性设置 中添加</p>
<pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v4/users/:id</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
<span class="s">在 body 中</span>
<span class="s">{</span>
<span class="s">    "profile_submission_attributes": {</span>
<span class="s">        "entries_attributes": [</span>
<span class="s">            {</span>
<span class="s">                "field_id": 5980,</span>
<span class="s">                "value": "数据"</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "field_id": 5977,</span>
<span class="s">                "value": "二号数据"</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "field_id": 5976,</span>
<span class="s">                "value": "新数据"</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "field_id": 5974,</span>
<span class="s">                "value": "四号数据"</span>
<span class="s">            }</span>
<span class="s">        ]</span>
<span class="s">    }</span>
<span class="s">}</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">    "id": 323,</span>
<span class="s">    "name": "望天wangtian",</span>
<span class="s">    "nickname": null,</span>
<span class="s">    "sex": null,</span>
<span class="s">    "phone": "186000000000",</span>
<span class="s">    "identifier": "186000000000",</span>
<span class="s">    "openid": null,</span>
<span class="s">    "created_at": "2018-10-11T14:55:21.550+08:00",</span>
<span class="s">    "updated_at": "2018-10-11T14:55:21.550+08:00",</span>
<span class="s">    "headimgurl": "/non-digested-assets/avatars/default_96.png",</span>
<span class="s">    "tags": [],</span>
<span class="s">    "organizations": [</span>
<span class="s">        {</span>
<span class="s">            "id": 409,</span>
<span class="s">            "name": "11",</span>
<span class="s">            "description": "",</span>
<span class="s">            "created_at": "2018-10-15T18:09:13.526+08:00"</span>
<span class="s">        }</span>
<span class="s">    ],</span>
<span class="s">    "profile_submission": {</span>
<span class="s">        "entries": [</span>
<span class="s">            {</span>
<span class="s">                "id": 1091215,</span>
<span class="s">                "field_id": 5980,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "23",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091216,</span>
<span class="s">                "field_id": 5977,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "23123",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091217,</span>
<span class="s">                "field_id": 5976,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "测34试",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            },</span>
<span class="s">            {</span>
<span class="s">                "id": 1091218,</span>
<span class="s">                "field_id": 5974,</span>
<span class="s">                "option_id": null,</span>
<span class="s">                "value": "454",</span>
<span class="s">                "choice_id": null,</span>
<span class="s">                "value_id": null,</span>
<span class="s">                "latitude": null,</span>
<span class="s">                "longitude": null,</span>
<span class="s">                "group_id": null,</span>
<span class="s">                "detail_id": null</span>
<span class="s">            }</span>
<span class="s">        ]</span>
<span class="s">    }</span>
<span class="s">}</span>
</code></pre>
<p><code>PUT /api/v4/users/:id</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>名字</td>
<td></td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>识别码</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>integer</td>
<td>手机号</td>
<td></td>
</tr>
<tr>
<td>profile_submission_attributes</td>
<td>object</td>
<td>自定义对象</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>如已有自定义属性，那么就用 id 修改（我方提供）</td>
<td></td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>当没有自定义属性时，用 fieldf_id 创建（我方提供）</td>
<td></td>
</tr>
</tbody></table>
<h2 id='ac68029009'>查询用户信息（手机号）</h2><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v4/users/query</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">your_authorization</span>
</code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">{</span>
<span class="s">  "id": 115,</span>
<span class="s">  "name": "zxl",</span>
<span class="s">  "nickname": null,</span>
<span class="s">  "sex": null,</span>
<span class="s">  "phone": "11011011011",</span>
<span class="s">  "identifier": "77777",</span>
<span class="s">  "openid": null,</span>
<span class="s">  "created_at": "2020-06-19T14:52:48.240+08:00",</span>
<span class="s">  "updated_at": "2020-06-19T14:52:48.240+08:00",</span>
<span class="s">  "headimgurl": "/non-digested-assets/avatars/default_96.png",</span>
<span class="s">  "tags": [],</span>
<span class="s">  "organizations": []</span>
<span class="s">}</span>
</code></pre>
<p><code>GET /api/v4/users/query</code></p>

<p><strong>Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>keyword</td>
<td>integer</td>
<td>手机号</td>
<td></td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Unauthorized - 授权失败，参考上方的2种授权方式</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - 没有找到请求的资源</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable - 更新资源时，验证失败</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error - 服务器有问题，请联系我们</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
          </div>
      </div>
    </div>
  </body>
</html>
